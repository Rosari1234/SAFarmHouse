(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";let t,s,a;var r,n,l,i,o,c,d,u,E,h,_,x,m,f,I,N,p,T,g,A,O,b,S,y,R,D,C,v,L,j,w,U,P,M,F,H,G,k,B,Y,V,K,$,J,W,X,q,Z,z,Q,ee,et,es,ea,er,en,el,ei,eo,ec,ed,eu,eE,eh,e_,ex,em,ef,eI,eN,ep,eT,eg,eA,eO,eb,eS,ey,eR,eD,eC,ev,eL,ej,ew,eU,eP,eM,eF,eH,eG,ek,eB,eY,eV,eK,e$,eJ,eW,eX,eq,eZ,ez,eQ,e0,e1,e2,e4,e5,e3,e6,e8,e7=e.i(43476),e9=e.i(71645);let te="/api/transactions",tt="/api/dealers",ts={getTransactions:async()=>{let e=await fetch(te);if(!e.ok)throw Error("Failed to load data");return e.json()},saveTransaction:async e=>{let t=await fetch(te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to save data");return t.json()},updatePaymentStatus:async(e,t)=>{if(!(await fetch(`${te}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPaid:t})})).ok)throw Error("Failed to update status");return ts.getTransactions()},updateTransaction:async(e,t)=>{if(!(await fetch(`${te}/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to update transaction");return ts.getTransactions()},deleteTransaction:async e=>{if(!(await fetch(`${te}/${e}`,{method:"DELETE"})).ok)throw Error("Failed to delete");return ts.getTransactions()},getDealers:async()=>{let e=await fetch(tt);if(!e.ok)throw Error("Failed to load dealers");return e.json()},addDealer:async e=>{let t=await fetch(tt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!t.ok)throw Error("Failed to add dealer");return t.json()},updateDealer:async(e,t)=>{if(!(await fetch(tt,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,name:t})})).ok)throw Error("Failed to update dealer")}};function ta(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)0>t.indexOf(a[r])&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(s[a[r]]=e[a[r]]);return s}function tr(e){return this instanceof tr?(this.v=e,this):new tr(e)}function tn(e,t,s){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var a,r=s.apply(e,t||[]),n=[];return a=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),a[Symbol.asyncIterator]=function(){return this},a;function l(e,t){r[e]&&(a[e]=function(t){return new Promise(function(s,a){n.push([e,t,s,a])>1||i(e,t)})},t&&(a[e]=t(a[e])))}function i(e,t){try{var s;(s=r[e](t)).value instanceof tr?Promise.resolve(s.value.v).then(o,c):d(n[0][2],s)}catch(e){d(n[0][3],e)}}function o(e){i("next",e)}function c(e){i("throw",e)}function d(e,t){e(t),n.shift(),n.length&&i(n[0][0],n[0][1])}}function tl(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,s=e[Symbol.asyncIterator];return s?s.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,s=t&&e[t],a=0;if(s)return s.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},a("next"),a("throw"),a("return"),t[Symbol.asyncIterator]=function(){return this},t);function a(s){t[s]=e[s]&&function(t){return new Promise(function(a,r){var n,l,i;n=a,l=r,i=(t=e[s](t)).done,Promise.resolve(t.value).then(function(e){n({value:e,done:i})},l)})}}}e.i(47167),(r=el||(el={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(n=ei||(ei={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON",(l=eo||(eo={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",l.SILENT="SILENT",l.WHEN_IDLE="WHEN_IDLE",l.INTERRUPT="INTERRUPT",(i=ec||(ec={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL",(o=ed||(ed={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH",(c=eu||(eu={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",c.NO_AUTH="NO_AUTH",c.API_KEY_AUTH="API_KEY_AUTH",c.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",c.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",c.OAUTH="OAUTH",c.OIDC_AUTH="OIDC_AUTH",(d=eE||(eE={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",d.HTTP_IN_QUERY="HTTP_IN_QUERY",d.HTTP_IN_HEADER="HTTP_IN_HEADER",d.HTTP_IN_PATH="HTTP_IN_PATH",d.HTTP_IN_BODY="HTTP_IN_BODY",d.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(u=eh||(eh={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",u.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",u.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",u.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",u.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",u.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",u.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(E=e_||(e_={})).UNSPECIFIED="UNSPECIFIED",E.BLOCKING="BLOCKING",E.NON_BLOCKING="NON_BLOCKING",(h=ex||(ex={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",h.MODE_DYNAMIC="MODE_DYNAMIC",(_=em||(em={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",_.AUTO="AUTO",_.ANY="ANY",_.NONE="NONE",_.VALIDATED="VALIDATED",(x=ef||(ef={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",x.LOW="LOW",x.MEDIUM="MEDIUM",x.HIGH="HIGH",x.MINIMAL="MINIMAL",(m=eI||(eI={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",m.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",m.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",m.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",m.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",m.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",m.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",m.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",m.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",m.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",m.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(f=eN||(eN={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",f.SEVERITY="SEVERITY",f.PROBABILITY="PROBABILITY",(I=ep||(ep={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",I.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",I.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",I.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",I.BLOCK_NONE="BLOCK_NONE",I.OFF="OFF",(N=eT||(eT={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",N.STOP="STOP",N.MAX_TOKENS="MAX_TOKENS",N.SAFETY="SAFETY",N.RECITATION="RECITATION",N.LANGUAGE="LANGUAGE",N.OTHER="OTHER",N.BLOCKLIST="BLOCKLIST",N.PROHIBITED_CONTENT="PROHIBITED_CONTENT",N.SPII="SPII",N.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",N.IMAGE_SAFETY="IMAGE_SAFETY",N.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",N.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",N.NO_IMAGE="NO_IMAGE",N.IMAGE_RECITATION="IMAGE_RECITATION",N.IMAGE_OTHER="IMAGE_OTHER",(p=eg||(eg={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",p.NEGLIGIBLE="NEGLIGIBLE",p.LOW="LOW",p.MEDIUM="MEDIUM",p.HIGH="HIGH",(T=eA||(eA={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",T.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",T.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",T.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",T.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(g=eO||(eO={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",g.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",g.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",g.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",g.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(A=eb||(eb={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",A.SAFETY="SAFETY",A.OTHER="OTHER",A.BLOCKLIST="BLOCKLIST",A.PROHIBITED_CONTENT="PROHIBITED_CONTENT",A.IMAGE_SAFETY="IMAGE_SAFETY",A.MODEL_ARMOR="MODEL_ARMOR",A.JAILBREAK="JAILBREAK",(O=eS||(eS={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",O.ON_DEMAND="ON_DEMAND",O.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(b=ey||(ey={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",b.TEXT="TEXT",b.IMAGE="IMAGE",b.AUDIO="AUDIO",(S=eR||(eR={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",S.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",S.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",S.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(y=eD||(eD={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",y.TUNING_MODE_FULL="TUNING_MODE_FULL",y.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(R=eC||(eC={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",R.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",R.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",R.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",R.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",R.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",R.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(D=ev||(ev={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",D.JOB_STATE_QUEUED="JOB_STATE_QUEUED",D.JOB_STATE_PENDING="JOB_STATE_PENDING",D.JOB_STATE_RUNNING="JOB_STATE_RUNNING",D.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",D.JOB_STATE_FAILED="JOB_STATE_FAILED",D.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",D.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",D.JOB_STATE_PAUSED="JOB_STATE_PAUSED",D.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",D.JOB_STATE_UPDATING="JOB_STATE_UPDATING",D.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(C=eL||(eL={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",C.TUNING_TASK_I2V="TUNING_TASK_I2V",C.TUNING_TASK_T2V="TUNING_TASK_T2V",C.TUNING_TASK_R2V="TUNING_TASK_R2V",(v=ej||(ej={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",v.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",v.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",v.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",v.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(L=ew||(ew={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",L.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",L.BALANCED="BALANCED",L.PRIORITIZE_COST="PRIORITIZE_COST",(j=eU||(eU={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",j.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(w=eP||(eP={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",w.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",w.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",w.BLOCK_NONE="BLOCK_NONE",(U=eM||(eM={})).DONT_ALLOW="DONT_ALLOW",U.ALLOW_ADULT="ALLOW_ADULT",U.ALLOW_ALL="ALLOW_ALL",(P=eF||(eF={})).auto="auto",P.en="en",P.ja="ja",P.ko="ko",P.hi="hi",P.zh="zh",P.pt="pt",P.es="es",(M=eH||(eH={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",M.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",M.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",M.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",M.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(F=eG||(eG={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",F.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",F.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",F.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(H=ek||(ek={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",H.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",H.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",H.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(G=eB||(eB={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",G.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",G.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",G.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",G.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",G.EDIT_MODE_STYLE="EDIT_MODE_STYLE",G.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",G.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(k=eY||(eY={})).FOREGROUND="FOREGROUND",k.BACKGROUND="BACKGROUND",k.PROMPT="PROMPT",k.SEMANTIC="SEMANTIC",k.INTERACTIVE="INTERACTIVE",(B=eV||(eV={})).ASSET="ASSET",B.STYLE="STYLE",(Y=eK||(eK={})).INSERT="INSERT",Y.REMOVE="REMOVE",Y.REMOVE_STATIC="REMOVE_STATIC",Y.OUTPAINT="OUTPAINT",(V=e$||(e$={})).OPTIMIZED="OPTIMIZED",V.LOSSLESS="LOSSLESS",(K=eJ||(eJ={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",K.PREFERENCE_TUNING="PREFERENCE_TUNING",($=eW||(eW={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",$.STATE_PENDING="STATE_PENDING",$.STATE_ACTIVE="STATE_ACTIVE",$.STATE_FAILED="STATE_FAILED",(J=eX||(eX={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",J.PROCESSING="PROCESSING",J.ACTIVE="ACTIVE",J.FAILED="FAILED",(W=eq||(eq={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",W.UPLOADED="UPLOADED",W.GENERATED="GENERATED",W.REGISTERED="REGISTERED",(X=eZ||(eZ={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",X.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",X.RESPONSE_REJECTED="RESPONSE_REJECTED",X.NEED_MORE_INPUT="NEED_MORE_INPUT",(q=ez||(ez={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",q.TEXT="TEXT",q.IMAGE="IMAGE",q.VIDEO="VIDEO",q.AUDIO="AUDIO",q.DOCUMENT="DOCUMENT",(Z=eQ||(eQ={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",Z.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",Z.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(z=e0||(e0={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",z.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",z.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(Q=e1||(e1={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",Q.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",Q.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(ee=e2||(e2={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",ee.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",ee.NO_INTERRUPTION="NO_INTERRUPTION",(et=e4||(e4={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",et.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",et.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(es=e5||(e5={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",es.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",es.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",es.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",es.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",es.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",es.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",es.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",es.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",es.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",es.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",es.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",es.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(ea=e3||(e3={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",ea.QUALITY="QUALITY",ea.DIVERSITY="DIVERSITY",ea.VOCALIZATION="VOCALIZATION",(er=e6||(e6={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",er.PLAY="PLAY",er.PAUSE="PAUSE",er.STOP="STOP",er.RESET_CONTEXT="RESET_CONTEXT",(en=e8||(e8={})).PAGED_ITEM_BATCH_JOBS="batchJobs",en.PAGED_ITEM_MODELS="models",en.PAGED_ITEM_TUNING_JOBS="tuningJobs",en.PAGED_ITEM_FILES="files",en.PAGED_ITEM_CACHED_CONTENTS="cachedContents",en.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",en.PAGED_ITEM_DOCUMENTS="documents","function"==typeof SuppressedError&&SuppressedError;let ti=function(){let{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return ti=e.randomUUID.bind(e),e.randomUUID();let t=new Uint8Array(1),s=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(e^s()&15>>e/4).toString(16))};function to(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}let tc=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){let t=Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(e){}try{return Error(JSON.stringify(e))}catch(e){}}return Error(e)};class td extends Error{}class tu extends td{constructor(e,t,s,a){super(`${tu.makeMessage(e,t,s)}`),this.status=e,this.headers=a,this.error=t}static makeMessage(e,t,s){let a=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,t,s,a){return e&&a?400===e?new tx(e,t,s,a):401===e?new tm(e,t,s,a):403===e?new tf(e,t,s,a):404===e?new tI(e,t,s,a):409===e?new tN(e,t,s,a):422===e?new tp(e,t,s,a):429===e?new tT(e,t,s,a):e>=500?new tg(e,t,s,a):new tu(e,t,s,a):new th({message:s,cause:tc(t)})}}class tE extends tu{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class th extends tu{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class t_ extends th{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class tx extends tu{}class tm extends tu{}class tf extends tu{}class tI extends tu{}class tN extends tu{}class tp extends tu{}class tT extends tu{}class tg extends tu{}let tA=/^[a-z][a-z0-9+.-]*:/i,tO=e=>(tO=Array.isArray)(e),tb=tO,tS="0.0.1",ty=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",tR=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";function tD(...e){let t=globalThis.ReadableStream;if(void 0===t)throw Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function tC(e){if(e[Symbol.asyncIterator])return e;let t=e.getReader();return{async next(){try{let e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){let e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function tv(e){var t,s;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void await (null==(s=(t=e[Symbol.asyncIterator]()).return)?void 0:s.call(t));let a=e.getReader(),r=a.cancel();a.releaseLock(),await r}let tL=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),tj=()=>{var e;if("undefined"==typeof File){let{process:t}=globalThis;throw Error("`File` is not defined as a global, which is required for file uploads."+("string"==typeof(null==(e=null==t?void 0:t.versions)?void 0:e.node)&&20>parseInt(t.versions.node.split("."))?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tw(e,t,s){return tj(),new File(e,null!=t?t:"unknown_file",s)}let tU=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function tP(e,t,s){var a;let r,n;if(tj(),null!=(r=e=await e)&&"object"==typeof r&&"string"==typeof r.name&&"number"==typeof r.lastModified&&tU(r))return e instanceof File?e:tw([await e.arrayBuffer()],e.name);if(null!=(n=e)&&"object"==typeof n&&"string"==typeof n.url&&"function"==typeof n.blob){let a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),tw(await tM(a),t,s)}let l=await tM(e);if(t||(t=("object"==typeof(a=e)&&null!==a&&("name"in a&&a.name&&String(a.name)||"url"in a&&a.url&&String(a.url)||"filename"in a&&a.filename&&String(a.filename)||"path"in a&&a.path&&String(a.path))||"").split(/[\\/]/).pop()||void 0),!(null==s?void 0:s.type)){let e=l.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(s=Object.assign(Object.assign({},s),{type:e}))}return tw(l,t,s)}async function tM(e){let t=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(tU(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])try{for(var s,a,r,n,l,i,o=!0,c=tl(e);!(s=(i=await c.next()).done);o=!0)n=i.value,o=!1,t.push(...await tM(n))}catch(e){a={error:e}}finally{try{!o&&!s&&(r=c.return)&&await r.call(c)}finally{if(a)throw a.error}}else{let t=null==(l=null==e?void 0:e.constructor)?void 0:l.name;throw Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";let t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}(e)}`)}return t}class tF{constructor(e){this._client=e}}function tH(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}tF._key=[];let tG=Object.freeze(Object.create(null)),tk=((e=tH)=>function(t,...s){let a;if(1===t.length)return t[0];let r=!1,n=[],l=t.reduce((t,a,l)=>{var i,o,c;/[?#]/.test(a)&&(r=!0);let d=s[l],u=(r?encodeURIComponent:e)(""+d);return l!==s.length&&(null==d||"object"==typeof d&&d.toString===(null==(c=Object.getPrototypeOf(null!=(o=Object.getPrototypeOf(null!=(i=d.hasOwnProperty)?i:tG))?o:tG))?void 0:c.toString))&&(u=d+"",n.push({start:t.length+a.length,length:u.length,error:`Value of type ${Object.prototype.toString.call(d).slice(8,-1)} is not a valid path parameter`})),t+a+(l===s.length?"":u)},""),i=l.split(/[?#]/,1)[0],o=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;for(;null!==(a=o.exec(i));)n.push({start:a.index,length:a[0].length,error:`Value "${a[0]}" can't be safely passed as a path parameter`});if(n.sort((e,t)=>e.start-t.start),n.length>0){let e=0,t=n.reduce((t,s)=>{let a=" ".repeat(s.start-e),r="^".repeat(s.length);return e=s.start+s.length,t+a+r},"");throw new td(`Path parameters result in path with invalid segments:
${n.map(e=>e.error).join("\n")}
${l}
${t}`)}return l})(tH);class tB extends tF{create(e,t){var s;let{api_version:a=this._client.apiVersion}=e,r=ta(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new td("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new td("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(tk`/${a}/interactions`,Object.assign(Object.assign({body:r},t),{stream:null!=(s=e.stream)&&s}))}delete(e,t={},s){let{api_version:a=this._client.apiVersion}=null!=t?t:{};return this._client.delete(tk`/${a}/interactions/${e}`,s)}cancel(e,t={},s){let{api_version:a=this._client.apiVersion}=null!=t?t:{};return this._client.post(tk`/${a}/interactions/${e}/cancel`,s)}get(e,t={},s){var a;let r=null!=t?t:{},{api_version:n=this._client.apiVersion}=r,l=ta(r,["api_version"]);return this._client.get(tk`/${n}/interactions/${e}`,Object.assign(Object.assign({query:l},s),{stream:null!=(a=null==t?void 0:t.stream)&&a}))}}tB._key=Object.freeze(["interactions"]);class tY extends tB{}function tV(e){let t;return(null!=s?s:s=(t=new globalThis.TextEncoder).encode.bind(t))(e)}function tK(e){let t;return(null!=a?a:a=(t=new globalThis.TextDecoder).decode.bind(t))(e)}class t${constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){let t;if(null==e)return[];let s=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?tV(e):e;this.buffer=function(e){let t=0;for(let s of e)t+=s.length;let s=new Uint8Array(t),a=0;for(let t of e)s.set(t,a),a+=t.length;return s}([this.buffer,s]);let a=[];for(;null!=(t=function(e,t){for(let s=null!=t?t:0;s<e.length;s++){if(10===e[s])return{preceding:s,index:s+1,carriage:!1};if(13===e[s])return{preceding:s,index:s+1,carriage:!0}}return null}(this.buffer,this.carriageReturnIndex));){if(t.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=t.index;continue}if(null!=this.carriageReturnIndex&&(t.index!==this.carriageReturnIndex+1||t.carriage)){a.push(tK(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let e=null!==this.carriageReturnIndex?t.preceding-1:t.preceding,s=tK(this.buffer.subarray(0,e));a.push(s),this.buffer=this.buffer.subarray(t.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode("\n"):[]}}t$.NEWLINE_CHARS=new Set(["\n","\r"]),t$.NEWLINE_REGEXP=/\r\n|[\n\r]/g;let tJ={off:0,error:200,warn:300,info:400,debug:500},tW=(e,t,s)=>{if(e){if(Object.prototype.hasOwnProperty.call(tJ,e))return e;tQ(s).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(tJ))}`)}};function tX(){}function tq(e,t,s){return!t||tJ[e]>tJ[s]?tX:t[e].bind(t)}let tZ={error:tX,warn:tX,info:tX,debug:tX},tz=new WeakMap;function tQ(e){var t;let s=e.logger,a=null!=(t=e.logLevel)?t:"off";if(!s)return tZ;let r=tz.get(s);if(r&&r[0]===a)return r[1];let n={error:tq("error",s,a),warn:tq("warn",s,a),info:tq("info",s,a),debug:tq("debug",s,a)};return tz.set(s,[a,n]),n}let t0=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class t1{constructor(e,t,s){this.iterator=e,this.controller=t,this.client=s}static fromSSEResponse(e,t,s){let a=!1,r=s?tQ(s):console;return new t1(function(){return tn(this,arguments,function*(){var s,n,l,i;if(a)throw new td("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let o=!1;try{try{for(var c,d=!0,u=tl(function(e,t){return tn(this,arguments,function*(){var s,a,r,n;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new td("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new td("Attempted to iterate over a response with no body")}let l=new t2,i=new t$,o=tC(e.body);try{for(var c,d=!0,u=tl(function(e){return tn(this,arguments,function*(){var t,s,a,r;let n=new Uint8Array;try{for(var l,i=!0,o=tl(e);!(t=(l=yield tr(o.next())).done);i=!0){let e;if(r=l.value,i=!1,null==r)continue;let t=r instanceof ArrayBuffer?new Uint8Array(r):"string"==typeof r?tV(r):r,s=new Uint8Array(n.length+t.length);for(s.set(n),s.set(t,n.length),n=s;-1!==(e=function(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1]||13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return -1}(n));)yield yield tr(n.slice(0,e)),n=n.slice(e)}}catch(e){s={error:e}}finally{try{!i&&!t&&(a=o.return)&&(yield tr(a.call(o)))}finally{if(s)throw s.error}}n.length>0&&(yield yield tr(n))})}(o));!(s=(c=yield tr(u.next())).done);d=!0)for(let e of(n=c.value,d=!1,i.decode(n))){let t=l.decode(e);t&&(yield yield tr(t))}}catch(e){a={error:e}}finally{try{!d&&!s&&(r=u.return)&&(yield tr(r.call(u)))}finally{if(a)throw a.error}}for(let e of i.flush()){let t=l.decode(e);t&&(yield yield tr(t))}})}(e,t));!(s=(c=yield tr(u.next())).done);d=!0)if(i=c.value,d=!1,!o)if(i.data.startsWith("[DONE]")){o=!0;continue}else try{yield yield tr(JSON.parse(i.data))}catch(e){throw r.error("Could not parse message into JSON:",i.data),r.error("From chunk:",i.raw),e}}catch(e){n={error:e}}finally{try{!d&&!s&&(l=u.return)&&(yield tr(l.call(u)))}finally{if(n)throw n.error}}o=!0}catch(e){if(to(e))return yield tr(void 0);throw e}finally{o||t.abort()}})},t,s)}static fromReadableStream(e,t,s){let a=!1;return new t1(function(){return tn(this,arguments,function*(){var s,r,n,l;if(a)throw new td("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let i=!1;try{try{for(var o,c=!0,d=tl(function(){return tn(this,arguments,function*(){var t,s,a,r;let n=new t$,l=tC(e);try{for(var i,o=!0,c=tl(l);!(t=(i=yield tr(c.next())).done);o=!0)for(let e of(r=i.value,o=!1,n.decode(r)))yield yield tr(e)}catch(e){s={error:e}}finally{try{!o&&!t&&(a=c.return)&&(yield tr(a.call(c)))}finally{if(s)throw s.error}}for(let e of n.flush())yield yield tr(e)})}());!(s=(o=yield tr(d.next())).done);c=!0)l=o.value,c=!1,!i&&l&&(yield yield tr(JSON.parse(l)))}catch(e){r={error:e}}finally{try{!c&&!s&&(n=d.return)&&(yield tr(n.call(d)))}finally{if(r)throw r.error}}i=!0}catch(e){if(to(e))return yield tr(void 0);throw e}finally{i||t.abort()}})},t,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],t=[],s=this.iterator(),a=a=>({next:()=>{if(0===a.length){let a=s.next();e.push(a),t.push(a)}return a.shift()}});return[new t1(()=>a(e),this.controller,this.client),new t1(()=>a(t),this.controller,this.client)]}toReadableStream(){let e,t=this;return tD({async start(){e=t[Symbol.asyncIterator]()},async pull(t){try{let{value:s,done:a}=await e.next();if(a)return t.close();let r=tV(JSON.stringify(s)+"\n");t.enqueue(r)}catch(e){t.error(e)}},async cancel(){var t;await (null==(t=e.return)?void 0:t.call(e))}})}}class t2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){var t;let s;if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[a,r,n]=-1!==(s=(t=e).indexOf(":"))?[t.substring(0,s),":",t.substring(s+1)]:[t,"",""];return n.startsWith(" ")&&(n=n.substring(1)),"event"===a?this.event=n:"data"===a&&this.data.push(n),null}}async function t4(e,t){let{response:s,requestLogID:a,retryOfRequestLogID:r,startTime:n}=t,l=await (async()=>{var a;if(t.options.stream)return(tQ(e).debug("response",s.status,s.url,s.headers,s.body),t.options.__streamClass)?t.options.__streamClass.fromSSEResponse(s,t.controller,e):t1.fromSSEResponse(s,t.controller,e);if(204===s.status)return null;if(t.options.__binaryResponse)return s;let r=s.headers.get("content-type"),n=null==(a=null==r?void 0:r.split(";")[0])?void 0:a.trim();return(null==n?void 0:n.includes("application/json"))||(null==n?void 0:n.endsWith("+json"))?await s.json():await s.text()})();return tQ(e).debug(`[${a}] response parsed`,t0({retryOfRequestLogID:r,url:s.url,status:s.status,body:l,durationMs:Date.now()-n})),l}class t5 extends Promise{constructor(e,t,s=t4){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new t5(this.client,this.responsePromise,async(t,s)=>e(await this.parseResponse(t,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}let t3=Symbol("brand.privateNullableHeaders"),t6=e=>{let t=new Headers,s=new Set;for(let a of e){let e=new Set;for(let[r,n]of function*(e){let t;if(!e)return;if(t3 in e){let{values:t,nulls:s}=e;for(let e of(yield*t.entries(),s))yield[e,null];return}let s=!1;for(let a of(e instanceof Headers?t=e.entries():tb(e)?t=e:(s=!0,t=Object.entries(null!=e?e:{})),t)){let e=a[0];if("string"!=typeof e)throw TypeError("expected header name to be a string");let t=tb(a[1])?a[1]:[a[1]],r=!1;for(let a of t)void 0!==a&&(s&&!r&&(r=!0,yield[e,null]),yield[e,a])}}(a)){let a=r.toLowerCase();e.has(a)||(t.delete(r),e.add(a)),null===n?(t.delete(r),s.add(a)):(t.append(r,n),s.delete(a))}}return{[t3]:!0,values:t,nulls:s}},t8=e=>{var t,s,a,r,n,l;return void 0!==globalThis.process?null!=(a=null==(s=null==(t=globalThis.process.env)?void 0:t[e])?void 0:s.trim())?a:void 0:void 0!==globalThis.Deno?null==(l=null==(n=null==(r=globalThis.Deno.env)?void 0:r.get)?void 0:n.call(r,e))?void 0:l.trim():void 0};class t7{constructor(e){var t,s,a,r,n,l,i,{baseURL:o=t8("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=null!=(t=t8("GEMINI_API_KEY"))?t:null,apiVersion:d="v1beta"}=e;const u=Object.assign(Object.assign({apiKey:c,apiVersion:d},ta(e,["baseURL","apiKey","apiVersion"])),{baseURL:o||"https://generativelanguage.googleapis.com"});this.baseURL=u.baseURL,this.timeout=null!=(s=u.timeout)?s:t7.DEFAULT_TIMEOUT,this.logger=null!=(a=u.logger)?a:console;const E="warn";this.logLevel=E,this.logLevel=null!=(n=null!=(r=tW(u.logLevel,"ClientOptions.logLevel",this))?r:tW(t8("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))?n:E,this.fetchOptions=u.fetchOptions,this.maxRetries=null!=(l=u.maxRetries)?l:2,this.fetch=null!=(i=u.fetch)?i:function(){if("undefined"!=typeof fetch)return fetch;throw Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=tL,this._options=u,this.apiKey=c,this.apiVersion=d,this.clientAdapter=u.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key")||this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){let t=t6([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return t6([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return t6([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new td(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${tS}`}defaultIdempotencyKey(){return`stainless-node-retry-${ti()}`}makeStatusError(e,t,s,a){return tu.generate(e,t,s,a)}buildURL(e,t,s){let a=!this.baseURLOverridden()&&s||this.baseURL,r=new URL(tA.test(e)?e:a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),n=this.defaultQuery();return!function(e){if(!e)return!0;for(let t in e)return!1;return!0}(n)&&(t=Object.assign(Object.assign({},n),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){let t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:s}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,s){return this.request(Promise.resolve(s).then(s=>Object.assign({method:e,path:t},s)))}request(e,t=null){return new t5(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,s){var a,r,n;let l=await e,i=null!=(a=l.maxRetries)?a:this.maxRetries;null==t&&(t=i),await this.prepareOptions(l);let{req:o,url:c,timeout:d}=await this.buildRequest(l,{retryCount:i-t});await this.prepareRequest(o,{url:c,options:l});let u="log_"+(0x1000000*Math.random()|0).toString(16).padStart(6,"0"),E=void 0===s?"":`, retryOf: ${s}`,h=Date.now();if(tQ(this).debug(`[${u}] sending request`,t0({retryOfRequestLogID:s,method:l.method,url:c,options:l,headers:o.headers})),null==(r=l.signal)?void 0:r.aborted)throw new tE;let _=new AbortController,x=await this.fetchWithTimeout(c,o,d,_).catch(tc),m=Date.now();if(x instanceof globalThis.Error){let e=`retrying, ${t} attempts remaining`;if(null==(n=l.signal)?void 0:n.aborted)throw new tE;let a=to(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(t)return tQ(this).info(`[${u}] connection ${a?"timed out":"failed"} - ${e}`),tQ(this).debug(`[${u}] connection ${a?"timed out":"failed"} (${e})`,t0({retryOfRequestLogID:s,url:c,durationMs:m-h,message:x.message})),this.retryRequest(l,t,null!=s?s:u);if(tQ(this).info(`[${u}] connection ${a?"timed out":"failed"} - error; no more retries left`),tQ(this).debug(`[${u}] connection ${a?"timed out":"failed"} (error; no more retries left)`,t0({retryOfRequestLogID:s,url:c,durationMs:m-h,message:x.message})),a)throw new t_;throw new th({cause:x})}let f=`[${u}${E}] ${o.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${m-h}ms`;if(!x.ok){let e=await this.shouldRetry(x);if(t&&e){let e=`retrying, ${t} attempts remaining`;return await tv(x.body),tQ(this).info(`${f} - ${e}`),tQ(this).debug(`[${u}] response error (${e})`,t0({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:m-h})),this.retryRequest(l,t,null!=s?s:u,x.headers)}let a=e?"error; no more retries left":"error; not retryable";tQ(this).info(`${f} - ${a}`);let r=await x.text().catch(e=>tc(e).message),n=(e=>{try{return JSON.parse(e)}catch(e){return}})(r),i=n?void 0:r;throw tQ(this).debug(`[${u}] response error (${a})`,t0({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,message:i,durationMs:Date.now()-h})),this.makeStatusError(x.status,n,i,x.headers)}return tQ(this).info(f),tQ(this).debug(`[${u}] response start`,t0({retryOfRequestLogID:s,url:x.url,status:x.status,headers:x.headers,durationMs:m-h})),{response:x,options:l,controller:_,requestLogID:u,retryOfRequestLogID:s,startTime:h}}async fetchWithTimeout(e,t,s,a){let r=t||{},{signal:n,method:l}=r,i=ta(r,["signal","method"]);n&&n.addEventListener("abort",()=>a.abort());let o=setTimeout(()=>a.abort(),s),c=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||"object"==typeof i.body&&null!==i.body&&Symbol.asyncIterator in i.body,d=Object.assign(Object.assign(Object.assign({signal:a.signal},c?{duplex:"half"}:{}),{method:"GET"}),i);l&&(d.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(o)}}async shouldRetry(e){let t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||!!(e.status>=500))}async retryRequest(e,t,s,a){var r;let n,l,i=null==a?void 0:a.get("retry-after-ms");if(i){let e=parseFloat(i);Number.isNaN(e)||(n=e)}let o=null==a?void 0:a.get("retry-after");if(o&&!n){let e=parseFloat(o);n=Number.isNaN(e)?Date.parse(o)-Date.now():1e3*e}if(!(n&&0<=n&&n<6e4)){let s=null!=(r=e.maxRetries)?r:this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(t,s)}return await (l=n,new Promise(e=>setTimeout(e,l))),this.makeRequest(e,t-1,s)}calculateDefaultRetryTimeoutMillis(e,t){return Math.min(.5*Math.pow(2,t-e),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var s,a,r;let n=Object.assign({},e),{method:l,path:i,query:o,defaultBaseURL:c}=n,d=this.buildURL(i,o,c);"timeout"in n&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new td(`${e} must be an integer`);if(t<0)throw new td(`${e} must be a positive integer`)})("timeout",n.timeout),n.timeout=null!=(s=n.timeout)?s:this.timeout;let{bodyHeaders:u,body:E}=this.buildBody({options:n}),h=await this.buildHeaders({options:e,method:l,bodyHeaders:u,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:h},n.signal&&{signal:n.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),null!=(a=this.fetchOptions)?a:{}),null!=(r=n.fetchOptions)?r:{}),url:d,timeout:n.timeout}}async buildHeaders({options:e,method:s,bodyHeaders:a,retryCount:r}){let n={};this.idempotencyHeader&&"get"!==s&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),n[this.idempotencyHeader]=e.idempotencyKey);let l=await this.authHeaders(e),i=t6([n,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=t?t:t=(()=>{var e,t,s,a,r;let n="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===n)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tS,"X-Stainless-OS":tR(Deno.build.os),"X-Stainless-Arch":ty(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!=(t=null==(e=Deno.version)?void 0:e.deno)?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tS,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===n)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tS,"X-Stainless-OS":tR(null!=(s=globalThis.process.platform)?s:"unknown"),"X-Stainless-Arch":ty(null!=(a=globalThis.process.arch)?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!=(r=globalThis.process.version)?r:"unknown"};let l=function(){if("undefined"==typeof navigator||!navigator)return null;for(let{key:e,pattern:t}of[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}]){let s=t.exec(navigator.userAgent);if(s){let t=s[1]||0,a=s[2]||0,r=s[3]||0;return{browser:e,version:`${t}.${a}.${r}`}}}return null}();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tS,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":tS,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})()),this._options.defaultHeaders,a,e.headers,l]);return this.validateHeaders(i),i.values}buildBody({options:{body:e,headers:t}}){let s;if(!e)return{bodyHeaders:void 0,body:void 0};let a=t6([t]);if(ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&a.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream)return{bodyHeaders:void 0,body:e};if("object"!=typeof e||!(Symbol.asyncIterator in e)&&(!(Symbol.iterator in e)||!("next"in e)||"function"!=typeof e.next))return this.encoder({body:e,headers:a});return{bodyHeaders:void 0,body:(s=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator](),tD({start(){},async pull(e){let{done:t,value:a}=await s.next();t?e.close():e.enqueue(a)},async cancel(){var e;await (null==(e=s.return)?void 0:e.call(s))}}))}}}t7.DEFAULT_TIMEOUT=6e4;class t9 extends t7{constructor(){super(...arguments),this.interactions=new tY(this)}}t9.GeminiNextGenAPIClient=t9,t9.GeminiNextGenAPIClientError=td,t9.APIError=tu,t9.APIConnectionError=th,t9.APIConnectionTimeoutError=t_,t9.APIUserAbortError=tE,t9.NotFoundError=tI,t9.ConflictError=tN,t9.RateLimitError=tT,t9.BadRequestError=tx,t9.AuthenticationError=tm,t9.InternalServerError=tg,t9.PermissionDeniedError=tf,t9.UnprocessableEntityError=tp,t9.toFile=tP,t9.Interactions=tY;let se=({stats:e})=>{let t=[{label:"Total Weight",value:`${e.totalWeight.toFixed(2)} kg`,icon:"fa-weight-hanging",color:"bg-blue-500"},{label:"Total Revenue",value:`LKR ${e.totalRevenue.toLocaleString()}`,icon:"fa-money-bill-wave",color:"bg-emerald-500"},{label:"Pending Payment",value:`LKR ${e.pendingAmount.toLocaleString()}`,icon:"fa-clock",color:"bg-amber-500"},{label:"Chickens Sold",value:e.totalChickens.toString(),icon:"fa-kiwi-bird",color:"bg-indigo-500"}];return(0,e7.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:t.map((e,t)=>(0,e7.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center space-x-4",children:[(0,e7.jsx)("div",{className:`${e.color} w-12 h-12 rounded-xl flex items-center justify-center text-white text-xl shadow-lg shadow-opacity-20`,children:(0,e7.jsx)("i",{className:`fas ${e.icon}`})}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("p",{className:"text-sm font-medium text-slate-500",children:e.label}),(0,e7.jsx)("p",{className:"text-xl font-bold text-slate-800",children:e.value})]})]},t))})},st=({onSave:e,onCancel:t,transaction:s,dealers:a,onAddDealer:r})=>{let[n,l]=(0,e9.useState)({dealerId:s?.dealerId||"",date:s?.date||new Date().toISOString().split("T")[0],chickenCount:s?.chickenCount||0,weightKg:s?.weightKg||0,pricePerKg:s?.pricePerKg||0,isPaid:s?.isPaid||!1,note:s?.note||""}),[i,o]=(0,e9.useState)(0),[c,d]=(0,e9.useState)(""),[u,E]=(0,e9.useState)(!1);return(0,e9.useEffect)(()=>{o(n.weightKg*n.pricePerKg)},[n.weightKg,n.pricePerKg]),(0,e7.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,e7.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,e7.jsxs)("div",{className:"bg-emerald-600 p-6 text-white",children:[(0,e7.jsx)("h2",{className:"text-2xl font-bold",children:s?"Edit Delivery":"New Delivery"}),(0,e7.jsx)("p",{className:"opacity-80 text-sm",children:s?"Update chicken delivery details":"Enter chicken delivery details for the dealer"})]}),(0,e7.jsxs)("form",{onSubmit:t=>{(t.preventDefault(),n.weightKg<=0||n.pricePerKg<=0)?alert("Please enter valid weight and price."):e(n)},className:"p-6 space-y-4",children:[(0,e7.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e7.jsxs)("div",{className:"col-span-2",children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Dealer Name"}),(0,e7.jsxs)("div",{className:"flex space-x-2",children:[(0,e7.jsxs)("select",{required:!0,className:"flex-1 px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:n.dealerId,onChange:e=>l({...n,dealerId:e.target.value}),children:[(0,e7.jsx)("option",{value:"",children:"Select Dealer"}),a.map(e=>(0,e7.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,e7.jsx)("button",{type:"button",onClick:()=>E(!u),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all",children:(0,e7.jsx)("i",{className:"fas fa-plus"})})]}),u&&(0,e7.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,e7.jsx)("input",{type:"text",className:"flex-1 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 outline-none",placeholder:"New dealer name",value:c,onChange:e=>d(e.target.value)}),(0,e7.jsx)("button",{type:"button",onClick:()=>{c.trim()&&(r(c.trim()),d(""),E(!1))},className:"px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-all text-sm",children:"Add"}),(0,e7.jsx)("button",{type:"button",onClick:()=>E(!1),className:"px-3 py-2 bg-slate-300 text-slate-700 rounded-lg hover:bg-slate-400 transition-all text-sm",children:"Cancel"})]})]}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Date"}),(0,e7.jsx)("input",{required:!0,type:"date",className:"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:n.date,onChange:e=>l({...n,date:e.target.value})})]}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Chicken Count"}),(0,e7.jsx)("input",{required:!0,type:"number",min:"0",className:"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:n.chickenCount||"",onChange:e=>l({...n,chickenCount:Number(e.target.value)}),placeholder:"0"})]}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Total Weight (kg)"}),(0,e7.jsx)("input",{required:!0,type:"number",step:"0.01",min:"0",className:"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:n.weightKg||"",onChange:e=>l({...n,weightKg:Number(e.target.value)}),placeholder:"0.00"})]}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Price per kg (LKR)"}),(0,e7.jsx)("input",{required:!0,type:"number",min:"0",className:"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:n.pricePerKg||"",onChange:e=>l({...n,pricePerKg:Number(e.target.value)}),placeholder:"0.00"})]})]}),(0,e7.jsxs)("div",{className:"col-span-2",children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-1",children:"Note (Optional)"}),(0,e7.jsx)("textarea",{className:"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all resize-none",rows:3,value:n.note,onChange:e=>l({...n,note:e.target.value}),placeholder:"Add any additional notes about this delivery..."})]}),(0,e7.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl flex justify-between items-center",children:[(0,e7.jsxs)("div",{children:[(0,e7.jsx)("p",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold",children:"Estimated Total"}),(0,e7.jsxs)("p",{className:"text-2xl font-black text-emerald-700",children:["LKR ",i.toLocaleString()]})]}),(0,e7.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer group",children:[(0,e7.jsx)("input",{type:"checkbox",className:"w-5 h-5 accent-emerald-600 cursor-pointer",checked:n.isPaid,onChange:e=>l({...n,isPaid:e.target.checked})}),(0,e7.jsx)("span",{className:"text-sm font-semibold text-slate-700 group-hover:text-emerald-600 transition-colors",children:"Already Paid?"})]})]}),(0,e7.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,e7.jsx)("button",{type:"button",onClick:t,className:"flex-1 py-3 px-4 rounded-xl border-2 border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all",children:"Cancel"}),(0,e7.jsx)("button",{type:"submit",className:"flex-2 py-3 px-8 rounded-xl bg-emerald-600 text-white font-bold hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all",children:s?"Update Record":"Add Record"})]})]})]})})},ss=({dealers:e,onAddDealer:t,onUpdateDealer:s,onClose:a})=>{let[r,n]=(0,e9.useState)(""),[l,i]=(0,e9.useState)(!1),[o,c]=(0,e9.useState)(null),[d,u]=(0,e9.useState)(""),E=()=>{r.trim()&&(t(r.trim()),n(""))},h=()=>{i(!1),c(null),u("")};return(0,e7.jsxs)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[(0,e7.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,e7.jsxs)("div",{className:"bg-blue-600 p-6 text-white",children:[(0,e7.jsx)("h2",{className:"text-2xl font-bold",children:"Dealer Management"}),(0,e7.jsx)("p",{className:"opacity-80 text-sm",children:"Manage your dealer database"})]}),(0,e7.jsxs)("div",{className:"p-6",children:[(0,e7.jsxs)("div",{className:"mb-6",children:[(0,e7.jsx)("h3",{className:"text-lg font-bold text-slate-800 mb-3",children:"Add New Dealer"}),(0,e7.jsxs)("div",{className:"flex space-x-3",children:[(0,e7.jsx)("input",{type:"text",className:"flex-1 px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Dealer name",value:r,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&E()}),(0,e7.jsxs)("button",{onClick:E,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-bold",children:[(0,e7.jsx)("i",{className:"fas fa-plus mr-2"}),"Add"]})]})]}),(0,e7.jsxs)("div",{children:[(0,e7.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-3",children:["Current Dealers (",e.length,")"]}),(0,e7.jsx)("div",{className:"max-h-96 overflow-y-auto",children:e.length>0?(0,e7.jsx)("div",{className:"space-y-2",children:e.map((e,t)=>(0,e7.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl",children:[(0,e7.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e7.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:e.name.charAt(0).toUpperCase()}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("div",{className:"font-bold text-slate-800",children:e.name}),(0,e7.jsxs)("div",{className:"text-xs text-slate-500",children:["Added ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,e7.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e7.jsxs)("div",{className:"text-sm text-slate-400 font-mono",children:["#",(t+1).toString().padStart(2,"0")]}),(0,e7.jsx)("button",{onClick:()=>{c(e),u(e.name),i(!0)},className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:(0,e7.jsx)("i",{className:"fas fa-edit text-sm"})})]})]},e.id))}):(0,e7.jsxs)("div",{className:"text-center py-12 text-slate-400",children:[(0,e7.jsx)("i",{className:"fas fa-users text-4xl mb-4"}),(0,e7.jsx)("p",{className:"font-medium",children:"No dealers added yet"}),(0,e7.jsx)("p",{className:"text-sm",children:"Add your first dealer above"})]})})]})]}),(0,e7.jsx)("div",{className:"p-6 border-t border-slate-100 flex justify-end",children:(0,e7.jsx)("button",{onClick:a,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all font-bold",children:"Close"})})]}),l&&o&&(0,e7.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,e7.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,e7.jsxs)("div",{className:"bg-blue-600 p-6 text-white",children:[(0,e7.jsx)("h2",{className:"text-2xl font-bold",children:"Edit Dealer"}),(0,e7.jsx)("p",{className:"opacity-80 text-sm",children:"Update dealer information"})]}),(0,e7.jsx)("div",{className:"p-6",children:(0,e7.jsx)("div",{className:"space-y-4",children:(0,e7.jsxs)("div",{children:[(0,e7.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Dealer Name"}),(0,e7.jsx)("input",{type:"text",className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:d,onChange:e=>u(e.target.value),placeholder:"Enter dealer name",autoFocus:!0})]})})}),(0,e7.jsxs)("div",{className:"p-6 border-t border-slate-100 flex justify-end space-x-3",children:[(0,e7.jsx)("button",{onClick:h,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all font-bold",children:"Cancel"}),(0,e7.jsx)("button",{onClick:()=>{o&&d.trim()&&(s(o.id,d.trim()),h())},className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-bold",children:"Save Changes"})]})]})})]})};e.s(["default",0,()=>{let[e,t]=(0,e9.useState)({transactions:[],isLoading:!0,dealers:[],filters:{search:"",status:"all",startDate:"",endDate:"",dealerId:""}}),[s,a]=(0,e9.useState)(!1),[r,n]=(0,e9.useState)(null),[l,i]=(0,e9.useState)(null),[o,c]=(0,e9.useState)(!1),[d,u]=(0,e9.useState)(null),[E,h]=(0,e9.useState)([]),[_,x]=(0,e9.useState)(!1),[m,f]=(0,e9.useState)({dealerId:"",startDate:"",endDate:""}),[I,N]=(0,e9.useState)(1),[p]=(0,e9.useState)(10);(0,e9.useEffect)(()=>{(async()=>{try{let[e,s]=await Promise.all([ts.getTransactions(),ts.getDealers()]);t(t=>({...t,transactions:e,dealers:s,isLoading:!1})),h(s)}catch(e){console.error("MongoDB Sync Failed:",e),t(e=>({...e,isLoading:!1}))}})()},[]),(0,e9.useEffect)(()=>{(async()=>{try{let e=await ts.getDealers();h(e)}catch(e){console.error("Failed to load dealers:",e)}})()},[]),(0,e9.useMemo)(()=>e.transactions.reduce((e,t)=>(e.totalWeight+=t.weightKg,e.totalRevenue+=t.totalAmount,e.totalChickens+=t.chickenCount,t.isPaid?e.paidAmount+=t.totalAmount:e.pendingAmount+=t.totalAmount,e.transactionCount++,e),{totalWeight:0,totalRevenue:0,totalChickens:0,pendingAmount:0,paidAmount:0,transactionCount:0}),[e.transactions]);let T=(0,e9.useMemo)(()=>e.transactions.filter(t=>{let s=t.dealerName.toLowerCase().includes(e.filters.search.toLowerCase()),a="all"===e.filters.status||"paid"===e.filters.status&&t.isPaid||"unpaid"===e.filters.status&&!t.isPaid,r=(!e.filters.startDate||t.date>=e.filters.startDate)&&(!e.filters.endDate||t.date<=e.filters.endDate),n=!e.filters.dealerId||t.dealerId===e.filters.dealerId;return s&&a&&r&&n}),[e.transactions,e.filters]);(0,e9.useEffect)(()=>{N(1)},[e.filters]);let g=(0,e9.useMemo)(()=>{let e=(I-1)*p;return T.slice(e,e+p)},[T,I,p]),A=Math.ceil(T.length/p),O=(0,e9.useMemo)(()=>e.transactions.filter(e=>{let t=(!m.startDate||e.date>=m.startDate)&&(!m.endDate||e.date<=m.endDate),s=!m.dealerId||e.dealerId===m.dealerId;return t&&s}),[e.transactions,m]),b=(0,e9.useMemo)(()=>O.reduce((e,t)=>(e.totalWeight+=t.weightKg,e.totalRevenue+=t.totalAmount,e.totalChickens+=t.chickenCount,t.isPaid?e.paidAmount+=t.totalAmount:e.pendingAmount+=t.totalAmount,e.transactionCount++,e),{totalWeight:0,totalRevenue:0,totalChickens:0,pendingAmount:0,paidAmount:0,transactionCount:0}),[O]),S=async e=>{u("adding");try{let s=await ts.saveTransaction(e);t(e=>({...e,transactions:[s,...e.transactions]})),a(!1)}catch(e){alert("Error saving to MongoDB. Verify your network and credentials.")}finally{u(null)}},y=async(e,s)=>{u(e);try{let a=await ts.updatePaymentStatus(e,!s);t(e=>({...e,transactions:a}))}catch(e){alert("Failed to update payment status in database.")}finally{u(null)}},R=async e=>{if(r){u(r.id);try{let s=await ts.updateTransaction(r.id,e);t(e=>({...e,transactions:s})),a(!1),n(null)}catch(e){alert("Error updating transaction in MongoDB. Verify your network and credentials.")}finally{u(null)}}},D=async e=>{try{let s=await ts.addDealer(e);h(e=>[...e,s]),t(e=>({...e,dealers:[...e.dealers,s]}))}catch(e){alert("Failed to add dealer.")}},C=async(e,s)=>{try{await ts.updateDealer(e,s),h(t=>t.map(t=>t.id===e?{...t,name:s}:t));let a=await ts.getTransactions();t(e=>({...e,transactions:a}))}catch(e){alert("Failed to update dealer.")}},v=async e=>{if(confirm("Permanently delete this record from MongoDB?")){u(e);try{let s=await ts.deleteTransaction(e);t(e=>({...e,transactions:s}))}catch(e){alert("Failed to delete record.")}finally{u(null)}}};return e.isLoading?(0,e7.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white space-y-6",children:[(0,e7.jsxs)("div",{className:"relative",children:[(0,e7.jsx)("div",{className:"w-20 h-20 border-4 border-slate-100 rounded-full"}),(0,e7.jsx)("div",{className:"w-20 h-20 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin absolute top-0"})]}),(0,e7.jsxs)("div",{className:"text-center",children:[(0,e7.jsx)("p",{className:"text-slate-900 font-black text-2xl tracking-tight",children:"Syncing with MongoDB"}),(0,e7.jsx)("p",{className:"text-slate-400 font-medium mt-1",children:"Establishing secure connection to your farm data..."})]})]}):(0,e7.jsxs)("div",{className:"min-h-screen bg-slate-50 selection:bg-emerald-100 selection:text-emerald-900",children:[(0,e7.jsx)("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-xl border-b border-slate-200/60",children:(0,e7.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between",children:[(0,e7.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e7.jsx)("div",{className:"bg-emerald-600 w-12 h-12 rounded-2xl flex items-center justify-center text-white text-2xl shadow-xl shadow-emerald-200 rotate-3",children:(0,e7.jsx)("i",{className:"fas fa-kiwi-bird -rotate-3"})}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("h1",{className:"text-2xl font-black text-slate-900 tracking-tight leading-none",children:"SA Farmshop"}),(0,e7.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,e7.jsx)("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),(0,e7.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Live Chicken Inventory & Sales Intelligence"})]})]})]}),(0,e7.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e7.jsxs)("button",{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3.5 rounded-2xl font-black transition-all shadow-2xl shadow-blue-300 flex items-center space-x-3 active:scale-95",children:[(0,e7.jsx)("i",{className:"fas fa-users text-lg"}),(0,e7.jsx)("span",{children:"Dealers"})]}),(0,e7.jsxs)("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-3.5 rounded-2xl font-black transition-all shadow-2xl shadow-slate-300 flex items-center space-x-3 active:scale-95",children:[(0,e7.jsx)("i",{className:"fas fa-plus-circle text-lg"}),(0,e7.jsx)("span",{children:"Register Batch"})]})]})]})}),(0,e7.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[(0,e7.jsx)("div",{className:"mb-8 bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-200/60 p-6",children:(0,e7.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-6",children:[(0,e7.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e7.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-emerald-100 flex items-center justify-center text-emerald-600",children:(0,e7.jsx)("i",{className:"fas fa-filter text-lg"})}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("h3",{className:"text-lg font-black text-slate-900",children:"Dashboard Filters"}),(0,e7.jsx)("p",{className:"text-sm text-slate-500",children:"Filter statistics by dealer and date range"})]})]}),(0,e7.jsxs)("div",{className:"flex flex-wrap items-center gap-4 lg:ml-auto",children:[(0,e7.jsxs)("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded-2xl p-3",children:[(0,e7.jsx)("div",{className:"w-8 h-8 rounded-xl bg-slate-200 flex items-center justify-center text-slate-500 mr-3",children:(0,e7.jsx)("i",{className:"fas fa-user-tie text-sm"})}),(0,e7.jsxs)("select",{className:"bg-transparent text-sm font-semibold text-slate-800 outline-none cursor-pointer",value:m.dealerId,onChange:e=>f(t=>({...t,dealerId:e.target.value})),children:[(0,e7.jsx)("option",{value:"",children:"All Dealers"}),E.map(e=>(0,e7.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,e7.jsxs)("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded-2xl p-3",children:[(0,e7.jsx)("div",{className:"w-8 h-8 rounded-xl bg-slate-200 flex items-center justify-center text-slate-500 mr-3",children:(0,e7.jsx)("i",{className:"fas fa-calendar text-sm"})}),(0,e7.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e7.jsx)("input",{type:"date",className:"bg-transparent text-sm font-semibold outline-none text-slate-800 cursor-pointer",value:m.startDate,onChange:e=>f(t=>({...t,startDate:e.target.value}))}),(0,e7.jsx)("span",{className:"text-slate-400",children:"to"}),(0,e7.jsx)("input",{type:"date",className:"bg-transparent text-sm font-semibold outline-none text-slate-800 cursor-pointer",value:m.endDate,onChange:e=>f(t=>({...t,endDate:e.target.value}))})]})]})]})]})}),(0,e7.jsx)(se,{stats:b}),(0,e7.jsxs)("div",{className:"mb-12 group relative",children:[(0,e7.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-[3rem] blur-2xl opacity-10 group-hover:opacity-20 transition-opacity"}),(0,e7.jsxs)("div",{className:"relative bg-slate-900 rounded-[3rem] p-10 text-white shadow-2xl border border-slate-800 overflow-hidden",children:[(0,e7.jsx)("div",{className:"absolute top-0 right-0 p-12 opacity-10",children:(0,e7.jsx)("i",{className:"fas fa-brain text-[12rem] -rotate-12"})}),(0,e7.jsx)("div",{className:"relative z-10 flex flex-col md:flex-row items-center justify-between gap-10",children:(0,e7.jsxs)("div",{className:"flex items-start space-x-8",children:[(0,e7.jsx)("div",{className:"bg-emerald-500/20 p-5 rounded-3xl border border-emerald-500/30",children:(0,e7.jsx)("i",{className:"fas fa-wand-magic-sparkles text-4xl text-emerald-400"})}),(0,e7.jsxs)("div",{className:"flex-1",children:[(0,e7.jsx)("h3",{className:"text-2xl font-black mb-3",children:"SA Farmshop"}),(0,e7.jsx)("p",{className:"text-slate-400 text-lg font-medium leading-relaxed max-w-2xl",children:l||"Your farm records are securely hosted on MongoDB. Analyze them now to detect payment risks and track dealer growth."})]})]})})]})]}),(0,e7.jsxs)("div",{className:"bg-white rounded-[3rem] shadow-2xl shadow-slate-200/50 border border-slate-200/60 overflow-hidden",children:[(0,e7.jsxs)("div",{className:"p-8 border-b border-slate-100 flex flex-col lg:flex-row lg:items-center gap-8 bg-slate-50/40",children:[(0,e7.jsxs)("div",{className:"flex-1 relative group",children:[(0,e7.jsx)("i",{className:"fas fa-search absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-emerald-500 transition-colors text-lg"}),(0,e7.jsx)("input",{type:"text",placeholder:"Search dealer database by name...",className:"w-full pl-16 pr-8 py-5 rounded-[1.5rem] border-2 border-slate-100 outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 transition-all text-sm font-black placeholder:text-slate-300 bg-white shadow-sm",value:e.filters.search,onChange:e=>t(t=>({...t,filters:{...t.filters,search:e.target.value}}))})]}),(0,e7.jsxs)("div",{className:"flex flex-wrap items-center gap-6",children:[(0,e7.jsxs)("div",{className:"flex items-center bg-white border-2 border-slate-100 rounded-[1.5rem] p-2 pr-6 shadow-sm",children:[(0,e7.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 mr-4",children:(0,e7.jsx)("i",{className:"fas fa-sliders text-lg"})}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("div",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Filter Status"}),(0,e7.jsxs)("select",{className:"outline-none bg-transparent text-sm font-black text-slate-800 cursor-pointer pr-4",value:e.filters.status,onChange:e=>t(t=>({...t,filters:{...t.filters,status:e.target.value}})),children:[(0,e7.jsx)("option",{value:"all",children:"Full Ledger"}),(0,e7.jsx)("option",{value:"paid",children:"Verified Paid"}),(0,e7.jsx)("option",{value:"unpaid",children:"Due Payments"})]})]})]}),(0,e7.jsxs)("div",{className:"flex items-center bg-white border-2 border-slate-100 rounded-[1.5rem] p-2 pr-6 shadow-sm",children:[(0,e7.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 mr-4",children:(0,e7.jsx)("i",{className:"fas fa-user-tie text-lg"})}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("div",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Filter Dealer"}),(0,e7.jsxs)("select",{className:"outline-none bg-transparent text-sm font-black text-slate-800 cursor-pointer pr-4",value:e.filters.dealerId,onChange:e=>t(t=>({...t,filters:{...t.filters,dealerId:e.target.value}})),children:[(0,e7.jsx)("option",{value:"",children:"All Dealers"}),E.map(e=>(0,e7.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,e7.jsxs)("div",{className:"flex items-center space-x-4 bg-white border-2 border-slate-100 p-2 rounded-[1.5rem] shadow-sm",children:[(0,e7.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400",children:(0,e7.jsx)("i",{className:"fas fa-calendar-check text-lg"})}),(0,e7.jsxs)("div",{className:"flex items-center space-x-3 px-2",children:[(0,e7.jsx)("input",{type:"date",className:"bg-transparent text-xs font-black outline-none text-slate-800 cursor-pointer",value:e.filters.startDate,onChange:e=>t(t=>({...t,filters:{...t.filters,startDate:e.target.value}}))}),(0,e7.jsx)("div",{className:"w-4 h-[2px] bg-slate-200"}),(0,e7.jsx)("input",{type:"date",className:"bg-transparent text-xs font-black outline-none text-slate-800 cursor-pointer",value:e.filters.endDate,onChange:e=>t(t=>({...t,filters:{...t.filters,endDate:e.target.value}}))})]})]})]})]}),(0,e7.jsx)("div",{className:"overflow-x-auto",children:(0,e7.jsxs)("table",{className:"w-full",children:[(0,e7.jsx)("thead",{children:(0,e7.jsxs)("tr",{className:"bg-slate-50/50 text-slate-400 text-[10px] font-black uppercase tracking-[0.25em] border-b border-slate-100",children:[(0,e7.jsx)("th",{className:"px-10 py-7 text-left",children:"Timeline"}),(0,e7.jsx)("th",{className:"px-10 py-7 text-left",children:"Dealer / Unit Price"}),(0,e7.jsx)("th",{className:"px-10 py-7 text-center",children:"Batch Count"}),(0,e7.jsx)("th",{className:"px-10 py-7 text-right",children:"Net Weight"}),(0,e7.jsx)("th",{className:"px-10 py-7 text-right",children:"Total Payable"}),(0,e7.jsx)("th",{className:"px-10 py-7 text-center",children:"Verification"}),(0,e7.jsx)("th",{className:"px-10 py-7 text-center",children:"Manage"})]})}),(0,e7.jsx)("tbody",{className:"divide-y divide-slate-100",children:g.length>0?g.map(e=>(0,e7.jsxs)("tr",{className:`group transition-all ${d===e.id?"opacity-40 grayscale pointer-events-none":"hover:bg-emerald-50/30"}`,children:[(0,e7.jsxs)("td",{className:"px-10 py-8",children:[(0,e7.jsx)("div",{className:"text-sm font-black text-slate-900",children:new Date(e.date).toLocaleDateString("en-US",{month:"long",day:"numeric"})}),(0,e7.jsxs)("div",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:["Batch ID: ",e.id.slice(-6).toUpperCase()]})]}),(0,e7.jsx)("td",{className:"px-10 py-8",children:(0,e7.jsxs)("div",{className:"flex items-center space-x-5",children:[(0,e7.jsx)("div",{className:"w-14 h-14 rounded-[1.25rem] bg-slate-100 flex items-center justify-center text-xl font-black text-slate-400 group-hover:bg-emerald-600 group-hover:text-white transition-all shadow-sm",children:e.dealerName.charAt(0)}),(0,e7.jsxs)("div",{children:[(0,e7.jsx)("div",{className:"font-black text-slate-900 text-xl tracking-tight group-hover:text-emerald-700 transition-colors",children:e.dealerName}),(0,e7.jsxs)("div",{className:"text-xs text-emerald-600/60 font-black mt-0.5 tracking-tight uppercase",children:["LKR ",e.pricePerKg.toLocaleString()," / kg"]}),e.note&&(0,e7.jsxs)("div",{className:"text-xs text-slate-500 font-medium mt-1 italic max-w-48 truncate",title:e.note,children:[" ",e.note]})]})]})}),(0,e7.jsx)("td",{className:"px-10 py-8 text-center",children:(0,e7.jsxs)("div",{className:"inline-flex flex-col items-center justify-center min-w-[3rem] h-12 rounded-2xl bg-slate-50 text-slate-800 font-black",children:[(0,e7.jsx)("span",{className:"text-base leading-none",children:e.chickenCount}),(0,e7.jsx)("span",{className:"text-[8px] uppercase tracking-tighter opacity-40 mt-1",children:"units"})]})}),(0,e7.jsxs)("td",{className:"px-10 py-8 text-right",children:[(0,e7.jsx)("div",{className:"text-xl font-black text-slate-900",children:e.weightKg.toFixed(2)}),(0,e7.jsx)("div",{className:"text-[10px] text-emerald-600 font-black uppercase tracking-widest mt-1",children:"Kilograms"})]}),(0,e7.jsxs)("td",{className:"px-10 py-8 text-right",children:[(0,e7.jsxs)("div",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:["LKR ",e.totalAmount.toLocaleString()]}),(0,e7.jsx)("div",{className:"text-[10px] text-slate-400 font-bold uppercase mt-1 tracking-tight italic",children:"Secure Sync"})]}),(0,e7.jsx)("td",{className:"px-10 py-8",children:(0,e7.jsx)("div",{className:"flex justify-center",children:(0,e7.jsxs)("button",{onClick:()=>y(e.id,e.isPaid),className:`group relative flex items-center space-x-3 px-6 py-3 rounded-[1.25rem] text-[11px] font-black transition-all border-2 shadow-sm active:scale-95 ${e.isPaid?"bg-emerald-600 text-white border-emerald-500 shadow-emerald-100":"bg-white text-rose-500 border-rose-100 hover:border-rose-300 hover:bg-rose-50"}`,children:[e.isPaid?(0,e7.jsxs)(e7.Fragment,{children:[(0,e7.jsx)("i",{className:"fas fa-circle-check text-sm animate-bounce-slow"}),(0,e7.jsx)("span",{children:"VERIFIED PAID"})]}):(0,e7.jsxs)(e7.Fragment,{children:[(0,e7.jsx)("i",{className:"fas fa-clock-rotate-left text-sm"}),(0,e7.jsx)("span",{children:"MARK AS PAID"})]}),!e.isPaid&&(0,e7.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-4 w-4",children:[(0,e7.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),(0,e7.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-rose-500"})]})]})})}),(0,e7.jsx)("td",{className:"px-10 py-8",children:(0,e7.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,e7.jsx)("button",{onClick:()=>{n(e),a(!0)},className:"w-14 h-14 flex items-center justify-center text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-[1.25rem] transition-all active:scale-90",children:(0,e7.jsx)("i",{className:"fas fa-edit text-xl"})}),(0,e7.jsx)("button",{onClick:()=>v(e.id),className:"w-14 h-14 flex items-center justify-center text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-[1.25rem] transition-all active:scale-90",children:(0,e7.jsx)("i",{className:"fas fa-trash-can text-xl"})})]})})]},e.id)):(0,e7.jsx)("tr",{children:(0,e7.jsx)("td",{colSpan:7,className:"px-10 py-40 text-center",children:(0,e7.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,e7.jsx)("div",{className:"w-28 h-28 bg-slate-50 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-inner",children:(0,e7.jsx)("i",{className:"fas fa-cloud-upload text-4xl text-slate-200"})}),(0,e7.jsx)("h4",{className:"text-2xl font-black text-slate-900 mb-3 tracking-tight",children:"MongoDB Ledger Empty"}),(0,e7.jsx)("p",{className:"text-slate-400 font-medium text-lg px-8",children:"No records found matching your filters. Register a new chicken delivery batch to begin cloud tracking."})]})})})})]})}),A>1&&(0,e7.jsx)("div",{className:"px-8 py-6 border-t border-slate-100 bg-slate-50/30",children:(0,e7.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e7.jsxs)("div",{className:"text-sm text-slate-600 font-medium",children:["Showing ",(I-1)*p+1," to ",Math.min(I*p,T.length)," of ",T.length," transactions"]}),(0,e7.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e7.jsxs)("button",{onClick:()=>N(e=>Math.max(e-1,1)),disabled:1===I,className:"px-4 py-2 text-sm font-semibold text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[(0,e7.jsx)("i",{className:"fas fa-chevron-left mr-2"}),"Previous"]}),(0,e7.jsx)("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,A)},(e,t)=>{let s=Math.max(1,Math.min(A-4,I-2))+t;return s>A?null:(0,e7.jsx)("button",{onClick:()=>N(s),className:`px-3 py-2 text-sm font-semibold rounded-lg transition-all ${I===s?"bg-emerald-600 text-white shadow-sm":"text-slate-600 bg-white border border-slate-200 hover:bg-slate-50"}`,children:s},s)})}),(0,e7.jsxs)("button",{onClick:()=>N(e=>Math.min(e+1,A)),disabled:I===A,className:"px-4 py-2 text-sm font-semibold text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:["Next",(0,e7.jsx)("i",{className:"fas fa-chevron-right ml-2"})]})]})]})})]})]}),s&&(0,e7.jsx)(st,{onSave:r?R:S,onCancel:()=>{a(!1),n(null)},transaction:r,dealers:E,onAddDealer:D}),_&&(0,e7.jsx)(ss,{dealers:E,onAddDealer:D,onUpdateDealer:C,onClose:()=>x(!1)}),(0,e7.jsx)("footer",{className:"py-24 border-t border-slate-200/60 mt-20 bg-white",children:(0,e7.jsxs)("div",{className:"max-w-7xl mx-auto px-4 flex flex-col items-center",children:[(0,e7.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-12",children:[(0,e7.jsxs)("div",{className:"flex items-center space-x-3 bg-slate-50 px-6 py-3 rounded-2xl border border-slate-100",children:[(0,e7.jsx)("div",{className:"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),(0,e7.jsx)("span",{className:"text-[11px] font-black text-slate-600 uppercase tracking-[0.2em]",children:"Primary Cluster: Healthy"})]}),(0,e7.jsxs)("div",{className:"flex items-center space-x-3 bg-slate-50 px-6 py-3 rounded-2xl border border-slate-100",children:[(0,e7.jsx)("i",{className:"fas fa-shield-halved text-emerald-600 text-sm"}),(0,e7.jsx)("span",{className:"text-[11px] font-black text-slate-600 uppercase tracking-[0.2em]",children:"SSL Encryption: Active"})]})]}),(0,e7.jsxs)("div",{className:"flex items-center space-x-3 text-slate-900 mb-4 opacity-80",children:[(0,e7.jsx)("i",{className:"fas fa-kiwi-bird text-2xl text-emerald-600"}),(0,e7.jsx)("span",{className:"font-black tracking-tighter text-2xl",children:"SA Farmshop"})]}),(0,e7.jsx)("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.4em] mb-10 text-center",children:"Live Chicken Inventory & Sales Intelligence"}),(0,e7.jsx)("div",{className:"h-[1px] w-full max-w-lg bg-gradient-to-r from-transparent via-slate-200 to-transparent mb-10"}),(0,e7.jsxs)("div",{className:"text-slate-300 text-[10px] font-bold text-center leading-loose",children:[" ",new Date().getFullYear()," SA Farmshop. Proprietary Software License.",(0,e7.jsx)("br",{}),"Connected to MongoDB Atlas: lakshanrathnayake.es@gmail.com"]})]})})]})}],31713)}]);