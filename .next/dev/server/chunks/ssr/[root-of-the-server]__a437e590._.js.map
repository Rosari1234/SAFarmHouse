{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H%20P/Desktop/SAFarmHouse/services/db.ts"],"sourcesContent":["\r\nimport { Transaction } from '../types';\r\n\r\n/**\r\n * CLIENT-SIDE DB SERVICE\r\n * This file runs in the browser. It calls our Next.js API routes.\r\n */\r\n\r\nconst API_BASE = '/api/transactions';\r\nconst DEALERS_API = '/api/dealers';\r\n\r\nexport const db = {\r\n  // Transactions\r\n  getTransactions: async (): Promise<Transaction[]> => {\r\n    const res = await fetch(API_BASE);\r\n    if (!res.ok) throw new Error('Failed to load data');\r\n    return res.json();\r\n  },\r\n\r\n  saveTransaction: async (transaction: Omit<Transaction, 'id' | 'createdAt' | 'totalAmount'>): Promise<Transaction> => {\r\n    const res = await fetch(API_BASE, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(transaction),\r\n    });\r\n    if (!res.ok) throw new Error('Failed to save data');\r\n    return res.json();\r\n  },\r\n\r\n  updatePaymentStatus: async (id: string, isPaid: boolean): Promise<Transaction[]> => {\r\n    const res = await fetch(`${API_BASE}/${id}`, {\r\n      method: 'PATCH',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ isPaid }),\r\n    });\r\n    if (!res.ok) throw new Error('Failed to update status');\r\n    return db.getTransactions();\r\n  },\r\n\r\n  updateTransaction: async (id: string, data: Omit<Transaction, 'id' | 'createdAt' | 'totalAmount'>): Promise<Transaction[]> => {\r\n    const res = await fetch(`${API_BASE}/${id}`, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(data),\r\n    });\r\n    if (!res.ok) throw new Error('Failed to update transaction');\r\n    return db.getTransactions();\r\n  },\r\n\r\n  deleteTransaction: async (id: string): Promise<Transaction[]> => {\r\n    const res = await fetch(`${API_BASE}/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n    if (!res.ok) throw new Error('Failed to delete');\r\n    return db.getTransactions();\r\n  },\r\n\r\n  // Dealers\r\n  getDealers: async (): Promise<{ id: string; name: string; createdAt: number }[]> => {\r\n    const res = await fetch(DEALERS_API);\r\n    if (!res.ok) throw new Error('Failed to load dealers');\r\n    return res.json();\r\n  },\r\n\r\n  addDealer: async (name: string): Promise<{ id: string; name: string; createdAt: number }> => {\r\n    const res = await fetch(DEALERS_API, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ name }),\r\n    });\r\n    if (!res.ok) throw new Error('Failed to add dealer');\r\n    return res.json();\r\n  },\r\n\r\n  updateDealer: async (id: string, name: string): Promise<void> => {\r\n    const res = await fetch(DEALERS_API, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ id, name }),\r\n    });\r\n    if (!res.ok) throw new Error('Failed to update dealer');\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AAGA;;;CAGC,GAED,MAAM,WAAW;AACjB,MAAM,cAAc;AAEb,MAAM,KAAK;IAChB,eAAe;IACf,iBAAiB;QACf,MAAM,MAAM,MAAM,MAAM;QACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,IAAI,IAAI;IACjB;IAEA,iBAAiB,OAAO;QACtB,MAAM,MAAM,MAAM,MAAM,UAAU;YAChC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,IAAI,IAAI;IACjB;IAEA,qBAAqB,OAAO,IAAY;QACtC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,IAAI,EAAE;YAC3C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,GAAG,eAAe;IAC3B;IAEA,mBAAmB,OAAO,IAAY;QACpC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,IAAI,EAAE;YAC3C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;QACvB;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,GAAG,eAAe;IAC3B;IAEA,mBAAmB,OAAO;QACxB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,CAAC,EAAE,IAAI,EAAE;YAC3C,QAAQ;QACV;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,GAAG,eAAe;IAC3B;IAEA,UAAU;IACV,YAAY;QACV,MAAM,MAAM,MAAM,MAAM;QACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,IAAI,IAAI;IACjB;IAEA,WAAW,OAAO;QAChB,MAAM,MAAM,MAAM,MAAM,aAAa;YACnC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAK;QAC9B;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;QAC7B,OAAO,IAAI,IAAI;IACjB;IAEA,cAAc,OAAO,IAAY;QAC/B,MAAM,MAAM,MAAM,MAAM,aAAa;YACnC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAI;YAAK;QAClC;QACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC/B;AACF"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H%20P/Desktop/SAFarmHouse/services/geminiService.ts"],"sourcesContent":["\r\nimport { GoogleGenAI } from \"@google/genai\";\r\nimport { Transaction } from \"../types\";\r\n\r\nexport const getAIInsights = async (transactions: Transaction[]) => {\r\n  if (transactions.length === 0) return \"Add some transactions to get AI insights!\";\r\n\r\n  const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });\r\n  const summary = transactions.map(t => ({\r\n    dealer: t.dealerName,\r\n    weight: t.weightKg,\r\n    price: t.pricePerKg,\r\n    total: t.totalAmount,\r\n    paid: t.isPaid,\r\n    date: t.date\r\n  }));\r\n\r\n  const prompt = `\r\n    Analyze the following chicken farm shop sales data and provide a concise 3-sentence summary of business performance.\r\n    Identify the most active dealer and any concerns regarding unpaid balances.\r\n    Data: ${JSON.stringify(summary)}\r\n  `;\r\n\r\n  try {\r\n    const response = await ai.models.generateContent({\r\n      model: 'gemini-3-flash-preview',\r\n      contents: prompt,\r\n    });\r\n    return response.text || \"Unable to generate insights at this time.\";\r\n  } catch (error) {\r\n    console.error(\"AI Insight Error:\", error);\r\n    return \"Error connecting to AI service.\";\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AACA;;AAGO,MAAM,gBAAgB,OAAO;IAClC,IAAI,aAAa,MAAM,KAAK,GAAG,OAAO;IAEtC,MAAM,KAAK,IAAI,0KAAW,CAAC;QAAE,QAAQ,QAAQ,GAAG,CAAC,OAAO;IAAC;IACzD,MAAM,UAAU,aAAa,GAAG,CAAC,CAAA,IAAK,CAAC;YACrC,QAAQ,EAAE,UAAU;YACpB,QAAQ,EAAE,QAAQ;YAClB,OAAO,EAAE,UAAU;YACnB,OAAO,EAAE,WAAW;YACpB,MAAM,EAAE,MAAM;YACd,MAAM,EAAE,IAAI;QACd,CAAC;IAED,MAAM,SAAS,CAAC;;;UAGR,EAAE,KAAK,SAAS,CAAC,SAAS;EAClC,CAAC;IAED,IAAI;QACF,MAAM,WAAW,MAAM,GAAG,MAAM,CAAC,eAAe,CAAC;YAC/C,OAAO;YACP,UAAU;QACZ;QACA,OAAO,SAAS,IAAI,IAAI;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO;IACT;AACF"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H%20P/Desktop/SAFarmHouse/components/StatsCards.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { BusinessStats } from '../types';\r\n\r\ninterface Props {\r\n  stats: BusinessStats;\r\n}\r\n\r\nconst StatsCards: React.FC<Props> = ({ stats }) => {\r\n  const cards = [\r\n    { label: 'Total Weight', value: `${stats.totalWeight.toFixed(2)} kg`, icon: 'fa-weight-hanging', color: 'bg-blue-500' },\r\n    { label: 'Total Revenue', value: `LKR ${stats.totalRevenue.toLocaleString()}`, icon: 'fa-money-bill-wave', color: 'bg-emerald-500' },\r\n    { label: 'Pending Payment', value: `LKR ${stats.pendingAmount.toLocaleString()}`, icon: 'fa-clock', color: 'bg-amber-500' },\r\n    { label: 'Chickens Sold', value: stats.totalChickens.toString(), icon: 'fa-kiwi-bird', color: 'bg-indigo-500' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\r\n      {cards.map((card, i) => (\r\n        <div key={i} className=\"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center space-x-4\">\r\n          <div className={`${card.color} w-12 h-12 rounded-xl flex items-center justify-center text-white text-xl shadow-lg shadow-opacity-20`}>\r\n            <i className={`fas ${card.icon}`}></i>\r\n          </div>\r\n          <div>\r\n            <p className=\"text-sm font-medium text-slate-500\">{card.label}</p>\r\n            <p className=\"text-xl font-bold text-slate-800\">{card.value}</p>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatsCards;\r\n"],"names":[],"mappings":";;;;;;AAQA,MAAM,aAA8B,CAAC,EAAE,KAAK,EAAE;IAC5C,MAAM,QAAQ;QACZ;YAAE,OAAO;YAAgB,OAAO,GAAG,MAAM,WAAW,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC;YAAE,MAAM;YAAqB,OAAO;QAAc;QACtH;YAAE,OAAO;YAAiB,OAAO,CAAC,IAAI,EAAE,MAAM,YAAY,CAAC,cAAc,IAAI;YAAE,MAAM;YAAsB,OAAO;QAAiB;QACnI;YAAE,OAAO;YAAmB,OAAO,CAAC,IAAI,EAAE,MAAM,aAAa,CAAC,cAAc,IAAI;YAAE,MAAM;YAAY,OAAO;QAAe;QAC1H;YAAE,OAAO;YAAiB,OAAO,MAAM,aAAa,CAAC,QAAQ;YAAI,MAAM;YAAgB,OAAO;QAAgB;KAC/G;IAED,qBACE,8OAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,kBAChB,8OAAC;gBAAY,WAAU;;kCACrB,8OAAC;wBAAI,WAAW,GAAG,KAAK,KAAK,CAAC,qGAAqG,CAAC;kCAClI,cAAA,8OAAC;4BAAE,WAAW,CAAC,IAAI,EAAE,KAAK,IAAI,EAAE;;;;;;;;;;;kCAElC,8OAAC;;0CACC,8OAAC;gCAAE,WAAU;0CAAsC,KAAK,KAAK;;;;;;0CAC7D,8OAAC;gCAAE,WAAU;0CAAoC,KAAK,KAAK;;;;;;;;;;;;;eANrD;;;;;;;;;;AAYlB;uCAEe"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H%20P/Desktop/SAFarmHouse/components/TransactionForm.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Transaction, Dealer } from '../types';\r\n\r\ninterface Props {\r\n  onSave: (data: {\r\n    dealerId: string;\r\n    date: string;\r\n    chickenCount: number;\r\n    weightKg: number;\r\n    pricePerKg: number;\r\n    isPaid: boolean;\r\n    note?: string;\r\n  }) => void;\r\n  onCancel: () => void;\r\n  transaction?: Transaction;\r\n  dealers: Dealer[];\r\n  onAddDealer: (name: string) => void;\r\n}\r\n\r\nconst TransactionForm: React.FC<Props> = ({ onSave, onCancel, transaction, dealers, onAddDealer }) => {\r\n  const [formData, setFormData] = useState({\r\n    dealerId: transaction?.dealerId || '',\r\n    date: transaction?.date || new Date().toISOString().split('T')[0],\r\n    chickenCount: transaction?.chickenCount || 0,\r\n    weightKg: transaction?.weightKg || 0,\r\n    pricePerKg: transaction?.pricePerKg || 0,\r\n    isPaid: transaction?.isPaid || false,\r\n    note: transaction?.note || ''\r\n  });\r\n\r\n  const [total, setTotal] = useState(0);\r\n  const [newDealerName, setNewDealerName] = useState('');\r\n  const [showAddDealer, setShowAddDealer] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setTotal(formData.weightKg * formData.pricePerKg);\r\n  }, [formData.weightKg, formData.pricePerKg]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (formData.weightKg <= 0 || formData.pricePerKg <= 0) {\r\n      alert(\"Please enter valid weight and price.\");\r\n      return;\r\n    }\r\n    onSave(formData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-3xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200\">\r\n        <div className=\"bg-emerald-600 p-6 text-white\">\r\n          <h2 className=\"text-2xl font-bold\">{transaction ? 'Edit Delivery' : 'New Delivery'}</h2>\r\n          <p className=\"opacity-80 text-sm\">{transaction ? 'Update chicken delivery details' : 'Enter chicken delivery details for the dealer'}</p>\r\n        </div>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n          <div className=\"col-span-2\">\r\n              <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Dealer Name</label>\r\n              <div className=\"flex space-x-2\">\r\n                <select\r\n                  required\r\n                  className=\"flex-1 px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all\"\r\n                  value={formData.dealerId}\r\n                  onChange={e => setFormData({...formData, dealerId: e.target.value})}\r\n                >\r\n                  <option value=\"\">Select Dealer</option>\r\n                  {dealers.map(dealer => (\r\n                    <option key={dealer.id} value={dealer.id}>{dealer.name}</option>\r\n                  ))}\r\n                </select>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowAddDealer(!showAddDealer)}\r\n                  className=\"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl transition-all\"\r\n                >\r\n                  <i className=\"fas fa-plus\"></i>\r\n                </button>\r\n              </div>\r\n              {showAddDealer && (\r\n                <div className=\"mt-2 flex space-x-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"flex-1 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-emerald-500 outline-none\"\r\n                    placeholder=\"New dealer name\"\r\n                    value={newDealerName}\r\n                    onChange={e => setNewDealerName(e.target.value)}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => {\r\n                      if (newDealerName.trim()) {\r\n                        onAddDealer(newDealerName.trim());\r\n                        setNewDealerName('');\r\n                        setShowAddDealer(false);\r\n                      }\r\n                    }}\r\n                    className=\"px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-all text-sm\"\r\n                  >\r\n                    Add\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowAddDealer(false)}\r\n                    className=\"px-3 py-2 bg-slate-300 text-slate-700 rounded-lg hover:bg-slate-400 transition-all text-sm\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Date</label>\r\n              <input \r\n                required\r\n                type=\"date\" \r\n                className=\"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all\"\r\n                value={formData.date}\r\n                onChange={e => setFormData({...formData, date: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Chicken Count</label>\r\n              <input \r\n                required\r\n                type=\"number\" \r\n                min=\"0\"\r\n                className=\"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all\"\r\n                value={formData.chickenCount || ''}\r\n                onChange={e => setFormData({...formData, chickenCount: Number(e.target.value)})}\r\n                placeholder=\"0\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Total Weight (kg)</label>\r\n              <input \r\n                required\r\n                type=\"number\" \r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                className=\"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all\"\r\n                value={formData.weightKg || ''}\r\n                onChange={e => setFormData({...formData, weightKg: Number(e.target.value)})}\r\n                placeholder=\"0.00\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Price per kg (LKR)</label>\r\n              <input \r\n                required\r\n                type=\"number\" \r\n                min=\"0\"\r\n                className=\"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all\"\r\n                value={formData.pricePerKg || ''}\r\n                onChange={e => setFormData({...formData, pricePerKg: Number(e.target.value)})}\r\n                placeholder=\"0.00\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-span-2\">\r\n            <label className=\"block text-sm font-semibold text-slate-700 mb-1\">Note (Optional)</label>\r\n            <textarea\r\n              className=\"w-full px-4 py-2 border rounded-xl focus:ring-2 focus:ring-emerald-500 outline-none transition-all resize-none\"\r\n              rows={3}\r\n              value={formData.note}\r\n              onChange={e => setFormData({...formData, note: e.target.value})}\r\n              placeholder=\"Add any additional notes about this delivery...\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"bg-slate-50 p-4 rounded-xl flex justify-between items-center\">\r\n            <div>\r\n              <p className=\"text-xs text-slate-500 uppercase tracking-wider font-bold\">Estimated Total</p>\r\n              <p className=\"text-2xl font-black text-emerald-700\">LKR {total.toLocaleString()}</p>\r\n            </div>\r\n            <label className=\"flex items-center space-x-2 cursor-pointer group\">\r\n              <input \r\n                type=\"checkbox\" \r\n                className=\"w-5 h-5 accent-emerald-600 cursor-pointer\"\r\n                checked={formData.isPaid}\r\n                onChange={e => setFormData({...formData, isPaid: e.target.checked})}\r\n              />\r\n              <span className=\"text-sm font-semibold text-slate-700 group-hover:text-emerald-600 transition-colors\">Already Paid?</span>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"flex space-x-3 pt-4\">\r\n            <button \r\n              type=\"button\" \r\n              onClick={onCancel}\r\n              className=\"flex-1 py-3 px-4 rounded-xl border-2 border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button \r\n              type=\"submit\" \r\n              className=\"flex-2 py-3 px-8 rounded-xl bg-emerald-600 text-white font-bold hover:bg-emerald-700 shadow-lg shadow-emerald-200 transition-all\"\r\n            >\r\n              {transaction ? 'Update Record' : 'Add Record'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionForm;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H%20P/Desktop/SAFarmHouse/components/DealerModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Dealer } from '../types';\r\n\r\ninterface Props {\r\n  dealers: Dealer[];\r\n  onAddDealer: (name: string) => void;\r\n  onUpdateDealer: (id: string, name: string) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst DealerModal: React.FC<Props> = ({ dealers, onAddDealer, onUpdateDealer, onClose }) => {\r\n  const [newDealerName, setNewDealerName] = useState('');\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [editingDealer, setEditingDealer] = useState<Dealer | null>(null);\r\n  const [editName, setEditName] = useState('');\r\n\r\n  const handleAddDealer = () => {\r\n    if (newDealerName.trim()) {\r\n      onAddDealer(newDealerName.trim());\r\n      setNewDealerName('');\r\n    }\r\n  };\r\n\r\n  const openEditModal = (dealer: Dealer) => {\r\n    setEditingDealer(dealer);\r\n    setEditName(dealer.name);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  const closeEditModal = () => {\r\n    setShowEditModal(false);\r\n    setEditingDealer(null);\r\n    setEditName('');\r\n  };\r\n\r\n  const saveEdit = () => {\r\n    if (editingDealer && editName.trim()) {\r\n      onUpdateDealer(editingDealer.id, editName.trim());\r\n      closeEditModal();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in duration-200\">\r\n        <div className=\"bg-blue-600 p-6 text-white\">\r\n          <h2 className=\"text-2xl font-bold\">Dealer Management</h2>\r\n          <p className=\"opacity-80 text-sm\">Manage your dealer database</p>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {/* Add New Dealer */}\r\n          <div className=\"mb-6\">\r\n            <h3 className=\"text-lg font-bold text-slate-800 mb-3\">Add New Dealer</h3>\r\n            <div className=\"flex space-x-3\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"flex-1 px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                placeholder=\"Dealer name\"\r\n                value={newDealerName}\r\n                onChange={e => setNewDealerName(e.target.value)}\r\n                onKeyPress={e => e.key === 'Enter' && handleAddDealer()}\r\n              />\r\n              <button\r\n                onClick={handleAddDealer}\r\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-bold\"\r\n              >\r\n                <i className=\"fas fa-plus mr-2\"></i>Add\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Dealers List */}\r\n          <div>\r\n            <h3 className=\"text-lg font-bold text-slate-800 mb-3\">Current Dealers ({dealers.length})</h3>\r\n            <div className=\"max-h-96 overflow-y-auto\">\r\n              {dealers.length > 0 ? (\r\n                <div className=\"space-y-2\">\r\n                  {dealers.map((dealer, index) => (\r\n                    <div key={dealer.id} className=\"flex items-center justify-between p-4 bg-slate-50 rounded-xl\">\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center text-blue-600 font-bold\">\r\n                          {dealer.name.charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-bold text-slate-800\">{dealer.name}</div>\r\n                          <div className=\"text-xs text-slate-500\">\r\n                            Added {new Date(dealer.createdAt).toLocaleDateString()}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"text-sm text-slate-400 font-mono\">\r\n                          #{(index + 1).toString().padStart(2, '0')}\r\n                        </div>\r\n                        <button\r\n                          onClick={() => openEditModal(dealer)}\r\n                          className=\"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all\"\r\n                        >\r\n                          <i className=\"fas fa-edit text-sm\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-center py-12 text-slate-400\">\r\n                  <i className=\"fas fa-users text-4xl mb-4\"></i>\r\n                  <p className=\"font-medium\">No dealers added yet</p>\r\n                  <p className=\"text-sm\">Add your first dealer above</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 border-t border-slate-100 flex justify-end\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all font-bold\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Edit Dealer Modal */}\r\n      {showEditModal && editingDealer && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200\">\r\n            <div className=\"bg-blue-600 p-6 text-white\">\r\n              <h2 className=\"text-2xl font-bold\">Edit Dealer</h2>\r\n              <p className=\"opacity-80 text-sm\">Update dealer information</p>\r\n            </div>\r\n\r\n            <div className=\"p-6\">\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold text-slate-700 mb-2\">Dealer Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all\"\r\n                    value={editName}\r\n                    onChange={e => setEditName(e.target.value)}\r\n                    placeholder=\"Enter dealer name\"\r\n                    autoFocus\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"p-6 border-t border-slate-100 flex justify-end space-x-3\">\r\n              <button\r\n                onClick={closeEditModal}\r\n                className=\"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 transition-all font-bold\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={saveEdit}\r\n                className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all font-bold\"\r\n              >\r\n                Save Changes\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DealerModal;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H%20P/Desktop/SAFarmHouse/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { Transaction, BusinessStats, AppState, FilterType, Dealer } from '../types';\r\nimport { db } from '../services/db';\r\nimport { getAIInsights } from '../services/geminiService';\r\nimport StatsCards from '../components/StatsCards';\r\nimport TransactionForm from '../components/TransactionForm';\r\nimport DealerModal from '../components/DealerModal';\r\n\r\nconst App: React.FC = () => {\r\n  const [state, setState] = useState<AppState>({\r\n    transactions: [],\r\n    isLoading: true,\r\n    dealers: [],\r\n    filters: {\r\n      search: '',\r\n      status: 'all',\r\n      startDate: '',\r\n      endDate: '',\r\n      dealerId: ''\r\n    }\r\n  });\r\n\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingTransaction, setEditingTransaction] = useState<Transaction | null>(null);\r\n  const [aiInsight, setAiInsight] = useState<string | null>(null);\r\n  const [isAiLoading, setIsAiLoading] = useState(false);\r\n  const [isActionLoading, setIsActionLoading] = useState<string | null>(null);\r\n  const [dealers, setDealers] = useState<Dealer[]>([]);\r\n  const [showDealerModal, setShowDealerModal] = useState(false);\r\n  const [dashboardFilters, setDashboardFilters] = useState({\r\n    dealerId: '',\r\n    startDate: '',\r\n    endDate: ''\r\n  });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage] = useState(10);\r\n\r\n  // Initial Sync with MongoDB\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const [transactions, dealersData] = await Promise.all([\r\n          db.getTransactions(),\r\n          db.getDealers()\r\n        ]);\r\n        setState(prev => ({ ...prev, transactions, dealers: dealersData, isLoading: false }));\r\n        setDealers(dealersData);\r\n      } catch (error) {\r\n        console.error(\"MongoDB Sync Failed:\", error);\r\n        setState(prev => ({ ...prev, isLoading: false }));\r\n      }\r\n    };\r\n    loadData();\r\n  }, []);\r\n\r\n  // Load dealers\r\n  useEffect(() => {\r\n    const loadDealers = async () => {\r\n      try {\r\n        const loadedDealers = await db.getDealers();\r\n        setDealers(loadedDealers);\r\n      } catch (error) {\r\n        console.error(\"Failed to load dealers:\", error);\r\n      }\r\n    };\r\n    loadDealers();\r\n  }, []);\r\n\r\n  const stats = useMemo((): BusinessStats => {\r\n    return state.transactions.reduce((acc, t) => {\r\n      acc.totalWeight += t.weightKg;\r\n      acc.totalRevenue += t.totalAmount;\r\n      acc.totalChickens += t.chickenCount;\r\n      if (t.isPaid) acc.paidAmount += t.totalAmount;\r\n      else acc.pendingAmount += t.totalAmount;\r\n      acc.transactionCount++;\r\n      return acc;\r\n    }, {\r\n      totalWeight: 0,\r\n      totalRevenue: 0,\r\n      totalChickens: 0,\r\n      pendingAmount: 0,\r\n      paidAmount: 0,\r\n      transactionCount: 0\r\n    });\r\n  }, [state.transactions]);\r\n\r\n  const filteredTransactions = useMemo(() => {\r\n    return state.transactions.filter(t => {\r\n      const matchesSearch = t.dealerName.toLowerCase().includes(state.filters.search.toLowerCase());\r\n      const matchesStatus = state.filters.status === 'all' || \r\n                           (state.filters.status === 'paid' && t.isPaid) || \r\n                           (state.filters.status === 'unpaid' && !t.isPaid);\r\n      const matchesDate = (!state.filters.startDate || t.date >= state.filters.startDate) &&\r\n                         (!state.filters.endDate || t.date <= state.filters.endDate);\r\n      const matchesDealer = !state.filters.dealerId || t.dealerId === state.filters.dealerId;\r\n      return matchesSearch && matchesStatus && matchesDate && matchesDealer;\r\n    });\r\n  }, [state.transactions, state.filters]);\r\n\r\n  // Reset to page 1 when filters change\r\n  useEffect(() => {\r\n    setCurrentPage(1);\r\n  }, [state.filters]);\r\n\r\n  const paginatedTransactions = useMemo(() => {\r\n    const startIndex = (currentPage - 1) * itemsPerPage;\r\n    const endIndex = startIndex + itemsPerPage;\r\n    return filteredTransactions.slice(startIndex, endIndex);\r\n  }, [filteredTransactions, currentPage, itemsPerPage]);\r\n\r\n  const totalPages = Math.ceil(filteredTransactions.length / itemsPerPage);\r\n\r\n  const transactionsForStats = useMemo(() => {\r\n    return state.transactions.filter(t => {\r\n      const matchesDate = (!dashboardFilters.startDate || t.date >= dashboardFilters.startDate) &&\r\n                         (!dashboardFilters.endDate || t.date <= dashboardFilters.endDate);\r\n      const matchesDealer = !dashboardFilters.dealerId || t.dealerId === dashboardFilters.dealerId;\r\n      return matchesDate && matchesDealer;\r\n    });\r\n  }, [state.transactions, dashboardFilters]);\r\n\r\n  const filteredStats = useMemo((): BusinessStats => {\r\n    return transactionsForStats.reduce((acc, t) => {\r\n      acc.totalWeight += t.weightKg;\r\n      acc.totalRevenue += t.totalAmount;\r\n      acc.totalChickens += t.chickenCount;\r\n      if (t.isPaid) acc.paidAmount += t.totalAmount;\r\n      else acc.pendingAmount += t.totalAmount;\r\n      acc.transactionCount++;\r\n      return acc;\r\n    }, {\r\n      totalWeight: 0,\r\n      totalRevenue: 0,\r\n      totalChickens: 0,\r\n      pendingAmount: 0,\r\n      paidAmount: 0,\r\n      transactionCount: 0\r\n    });\r\n  }, [transactionsForStats]);\r\n\r\n  const handleAddTransaction = async (data: {\r\n    dealerId: string;\r\n    date: string;\r\n    chickenCount: number;\r\n    weightKg: number;\r\n    pricePerKg: number;\r\n    isPaid: boolean;\r\n    note?: string;\r\n  }) => {\r\n    setIsActionLoading('adding');\r\n    try {\r\n      const newTx = await db.saveTransaction(data);\r\n      setState(prev => ({ ...prev, transactions: [newTx, ...prev.transactions] }));\r\n      setShowForm(false);\r\n    } catch (error) {\r\n      alert(\"Error saving to MongoDB. Verify your network and credentials.\");\r\n    } finally {\r\n      setIsActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const togglePaid = async (id: string, current: boolean) => {\r\n    setIsActionLoading(id);\r\n    try {\r\n      const updated = await db.updatePaymentStatus(id, !current);\r\n      setState(prev => ({ ...prev, transactions: updated }));\r\n    } catch (error) {\r\n      alert(\"Failed to update payment status in database.\");\r\n    } finally {\r\n      setIsActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleEditTransaction = async (data: {\r\n    dealerId: string;\r\n    date: string;\r\n    chickenCount: number;\r\n    weightKg: number;\r\n    pricePerKg: number;\r\n    isPaid: boolean;\r\n    note?: string;\r\n  }) => {\r\n    if (!editingTransaction) return;\r\n    setIsActionLoading(editingTransaction.id);\r\n    try {\r\n      const updated = await db.updateTransaction(editingTransaction.id, data);\r\n      setState(prev => ({ ...prev, transactions: updated }));\r\n      setShowForm(false);\r\n      setEditingTransaction(null);\r\n    } catch (error) {\r\n      alert(\"Error updating transaction in MongoDB. Verify your network and credentials.\");\r\n    } finally {\r\n      setIsActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleAddDealer = async (name: string) => {\r\n    try {\r\n      const newDealer = await db.addDealer(name);\r\n      setDealers(prev => [...prev, newDealer]);\r\n      setState(prev => ({ ...prev, dealers: [...prev.dealers, newDealer] }));\r\n    } catch (error) {\r\n      alert(\"Failed to add dealer.\");\r\n    }\r\n  };\r\n\r\n  const handleUpdateDealer = async (id: string, name: string) => {\r\n    try {\r\n      await db.updateDealer(id, name);\r\n      setDealers(prev => prev.map(d => d.id === id ? { ...d, name } : d));\r\n      // Refresh transactions to get updated dealer names\r\n      const updatedTransactions = await db.getTransactions();\r\n      setState(prev => ({ ...prev, transactions: updatedTransactions }));\r\n    } catch (error) {\r\n      alert(\"Failed to update dealer.\");\r\n    }\r\n  };\r\n\r\n  const fetchAIAnalysis = async () => {\r\n    setIsAiLoading(true);\r\n    const result = await getAIInsights(state.transactions);\r\n    setAiInsight(result);\r\n    setIsAiLoading(false);\r\n  };\r\n\r\n  const deleteTx = async (id: string) => {\r\n    if (confirm(\"Permanently delete this record from MongoDB?\")) {\r\n      setIsActionLoading(id);\r\n      try {\r\n        const updated = await db.deleteTransaction(id);\r\n        setState(prev => ({ ...prev, transactions: updated }));\r\n      } catch (error) {\r\n        alert(\"Failed to delete record.\");\r\n      } finally {\r\n        setIsActionLoading(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (state.isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col items-center justify-center bg-white space-y-6\">\r\n        <div className=\"relative\">\r\n          <div className=\"w-20 h-20 border-4 border-slate-100 rounded-full\"></div>\r\n          <div className=\"w-20 h-20 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin absolute top-0\"></div>\r\n        </div>\r\n        <div className=\"text-center\">\r\n          <p className=\"text-slate-900 font-black text-2xl tracking-tight\">Syncing with MongoDB</p>\r\n          <p className=\"text-slate-400 font-medium mt-1\">Establishing secure connection to your farm data...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 selection:bg-emerald-100 selection:text-emerald-900\">\r\n      {/* Premium Navbar */}\r\n      <header className=\"sticky top-0 z-40 bg-white/80 backdrop-blur-xl border-b border-slate-200/60\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20 flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"bg-emerald-600 w-12 h-12 rounded-2xl flex items-center justify-center text-white text-2xl shadow-xl shadow-emerald-200 rotate-3\">\r\n              <i className=\"fas fa-kiwi-bird -rotate-3\"></i>\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-black text-slate-900 tracking-tight leading-none\">SA Farmshop</h1>\r\n              <div className=\"flex items-center mt-1 space-x-2\">\r\n                <span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\"></span>\r\n                <span className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">Live Chicken Inventory & Sales Intelligence</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center space-x-4\">\r\n            <button \r\n              onClick={() => setShowDealerModal(true)}\r\n              className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3.5 rounded-2xl font-black transition-all shadow-2xl shadow-blue-300 flex items-center space-x-3 active:scale-95\"\r\n            >\r\n              <i className=\"fas fa-users text-lg\"></i>\r\n              <span>Dealers</span>\r\n            </button>\r\n            <button \r\n              onClick={() => setShowForm(true)}\r\n              className=\"bg-slate-900 hover:bg-black text-white px-8 py-3.5 rounded-2xl font-black transition-all shadow-2xl shadow-slate-300 flex items-center space-x-3 active:scale-95\"\r\n            >\r\n              <i className=\"fas fa-plus-circle text-lg\"></i>\r\n              <span>Register Batch</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\r\n        {/* Stats Filters */}\r\n        <div className=\"mb-8 bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-200/60 p-6\">\r\n          <div className=\"flex flex-col lg:flex-row lg:items-center gap-6\">\r\n            <div className=\"flex items-center space-x-4\">\r\n              <div className=\"w-10 h-10 rounded-2xl bg-emerald-100 flex items-center justify-center text-emerald-600\">\r\n                <i className=\"fas fa-filter text-lg\"></i>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-lg font-black text-slate-900\">Dashboard Filters</h3>\r\n                <p className=\"text-sm text-slate-500\">Filter statistics by dealer and date range</p>\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex flex-wrap items-center gap-4 lg:ml-auto\">\r\n              <div className=\"flex items-center bg-slate-50 border border-slate-200 rounded-2xl p-3\">\r\n                <div className=\"w-8 h-8 rounded-xl bg-slate-200 flex items-center justify-center text-slate-500 mr-3\">\r\n                  <i className=\"fas fa-user-tie text-sm\"></i>\r\n                </div>\r\n                <select \r\n                  className=\"bg-transparent text-sm font-semibold text-slate-800 outline-none cursor-pointer\"\r\n                  value={dashboardFilters.dealerId}\r\n                  onChange={e => setDashboardFilters(prev => ({ ...prev, dealerId: e.target.value }))}\r\n                >\r\n                  <option value=\"\">All Dealers</option>\r\n                  {dealers.map(dealer => (\r\n                    <option key={dealer.id} value={dealer.id}>{dealer.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center bg-slate-50 border border-slate-200 rounded-2xl p-3\">\r\n                <div className=\"w-8 h-8 rounded-xl bg-slate-200 flex items-center justify-center text-slate-500 mr-3\">\r\n                  <i className=\"fas fa-calendar text-sm\"></i>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input \r\n                    type=\"date\" \r\n                    className=\"bg-transparent text-sm font-semibold outline-none text-slate-800 cursor-pointer\"\r\n                    value={dashboardFilters.startDate}\r\n                    onChange={e => setDashboardFilters(prev => ({ ...prev, startDate: e.target.value }))}\r\n                  />\r\n                  <span className=\"text-slate-400\">to</span>\r\n                  <input \r\n                    type=\"date\" \r\n                    className=\"bg-transparent text-sm font-semibold outline-none text-slate-800 cursor-pointer\"\r\n                    value={dashboardFilters.endDate}\r\n                    onChange={e => setDashboardFilters(prev => ({ ...prev, endDate: e.target.value }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <StatsCards stats={filteredStats} />\r\n\r\n        {/* AI Insight Hero */}\r\n        <div className=\"mb-12 group relative\">\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-[3rem] blur-2xl opacity-10 group-hover:opacity-20 transition-opacity\"></div>\r\n          <div className=\"relative bg-slate-900 rounded-[3rem] p-10 text-white shadow-2xl border border-slate-800 overflow-hidden\">\r\n             <div className=\"absolute top-0 right-0 p-12 opacity-10\">\r\n                <i className=\"fas fa-brain text-[12rem] -rotate-12\"></i>\r\n             </div>\r\n             <div className=\"relative z-10 flex flex-col md:flex-row items-center justify-between gap-10\">\r\n                <div className=\"flex items-start space-x-8\">\r\n                  <div className=\"bg-emerald-500/20 p-5 rounded-3xl border border-emerald-500/30\">\r\n                    <i className=\"fas fa-wand-magic-sparkles text-4xl text-emerald-400\"></i>\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                    <h3 className=\"text-2xl font-black mb-3\">SA Farmshop</h3>\r\n                    <p className=\"text-slate-400 text-lg font-medium leading-relaxed max-w-2xl\">\r\n                      {aiInsight || \"Your farm records are securely hosted on MongoDB. Analyze them now to detect payment risks and track dealer growth.\"}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                {/* <button \r\n                  onClick={fetchAIAnalysis}\r\n                  disabled={isAiLoading || state.transactions.length === 0}\r\n                  className=\"bg-emerald-500 text-slate-900 px-12 py-5 rounded-[2rem] font-black hover:bg-emerald-400 transition-all disabled:opacity-30 whitespace-nowrap shadow-xl shadow-emerald-500/20 active:scale-95\"\r\n                >\r\n                  {isAiLoading ? (\r\n                    <><i className=\"fas fa-circle-notch fa-spin mr-3\"></i>Analyzing MongoDB...</>\r\n                  ) : (\r\n                    <><i className=\"fas fa-microchip mr-3\"></i>Generate Insight</>\r\n                  )}\r\n                </button> */}\r\n             </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Inventory Management Table */}\r\n        <div className=\"bg-white rounded-[3rem] shadow-2xl shadow-slate-200/50 border border-slate-200/60 overflow-hidden\">\r\n          {/* Advanced Filtering Toolbar */}\r\n          <div className=\"p-8 border-b border-slate-100 flex flex-col lg:flex-row lg:items-center gap-8 bg-slate-50/40\">\r\n            <div className=\"flex-1 relative group\">\r\n              <i className=\"fas fa-search absolute left-6 top-1/2 -translate-y-1/2 text-slate-300 group-focus-within:text-emerald-500 transition-colors text-lg\"></i>\r\n              <input \r\n                type=\"text\" \r\n                placeholder=\"Search dealer database by name...\" \r\n                className=\"w-full pl-16 pr-8 py-5 rounded-[1.5rem] border-2 border-slate-100 outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 transition-all text-sm font-black placeholder:text-slate-300 bg-white shadow-sm\"\r\n                value={state.filters.search}\r\n                onChange={e => setState(prev => ({ ...prev, filters: { ...prev.filters, search: e.target.value }}))}\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"flex flex-wrap items-center gap-6\">\r\n              <div className=\"flex items-center bg-white border-2 border-slate-100 rounded-[1.5rem] p-2 pr-6 shadow-sm\">\r\n                <div className=\"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 mr-4\">\r\n                  <i className=\"fas fa-sliders text-lg\"></i>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-[9px] font-black text-slate-300 uppercase tracking-widest\">Filter Status</div>\r\n                  <select \r\n                    className=\"outline-none bg-transparent text-sm font-black text-slate-800 cursor-pointer pr-4\"\r\n                    value={state.filters.status}\r\n                    onChange={e => setState(prev => ({ ...prev, filters: { ...prev.filters, status: e.target.value as FilterType }}))}\r\n                  >\r\n                    <option value=\"all\">Full Ledger</option>\r\n                    <option value=\"paid\">Verified Paid</option>\r\n                    <option value=\"unpaid\">Due Payments</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center bg-white border-2 border-slate-100 rounded-[1.5rem] p-2 pr-6 shadow-sm\">\r\n                <div className=\"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400 mr-4\">\r\n                  <i className=\"fas fa-user-tie text-lg\"></i>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-[9px] font-black text-slate-300 uppercase tracking-widest\">Filter Dealer</div>\r\n                  <select \r\n                    className=\"outline-none bg-transparent text-sm font-black text-slate-800 cursor-pointer pr-4\"\r\n                    value={state.filters.dealerId}\r\n                    onChange={e => setState(prev => ({ ...prev, filters: { ...prev.filters, dealerId: e.target.value }}))}\r\n                  >\r\n                    <option value=\"\">All Dealers</option>\r\n                    {dealers.map(dealer => (\r\n                      <option key={dealer.id} value={dealer.id}>{dealer.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-4 bg-white border-2 border-slate-100 p-2 rounded-[1.5rem] shadow-sm\">\r\n                <div className=\"w-12 h-12 rounded-2xl bg-slate-50 flex items-center justify-center text-slate-400\">\r\n                  <i className=\"fas fa-calendar-check text-lg\"></i>\r\n                </div>\r\n                <div className=\"flex items-center space-x-3 px-2\">\r\n                  <input \r\n                    type=\"date\" \r\n                    className=\"bg-transparent text-xs font-black outline-none text-slate-800 cursor-pointer\"\r\n                    value={state.filters.startDate}\r\n                    onChange={e => setState(prev => ({ ...prev, filters: { ...prev.filters, startDate: e.target.value }}))}\r\n                  />\r\n                  <div className=\"w-4 h-[2px] bg-slate-200\"></div>\r\n                  <input \r\n                    type=\"date\" \r\n                    className=\"bg-transparent text-xs font-black outline-none text-slate-800 cursor-pointer\"\r\n                    value={state.filters.endDate}\r\n                    onChange={e => setState(prev => ({ ...prev, filters: { ...prev.filters, endDate: e.target.value }}))}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"bg-slate-50/50 text-slate-400 text-[10px] font-black uppercase tracking-[0.25em] border-b border-slate-100\">\r\n                  <th className=\"px-10 py-7 text-left\">Timeline</th>\r\n                  <th className=\"px-10 py-7 text-left\">Dealer / Unit Price</th>\r\n                  <th className=\"px-10 py-7 text-center\">Batch Count</th>\r\n                  <th className=\"px-10 py-7 text-right\">Net Weight</th>\r\n                  <th className=\"px-10 py-7 text-right\">Total Payable</th>\r\n                  <th className=\"px-10 py-7 text-center\">Verification</th>\r\n                  <th className=\"px-10 py-7 text-center\">Manage</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-slate-100\">\r\n                {paginatedTransactions.length > 0 ? paginatedTransactions.map((tx) => (\r\n                  <tr key={tx.id} className={`group transition-all ${isActionLoading === tx.id ? 'opacity-40 grayscale pointer-events-none' : 'hover:bg-emerald-50/30'}`}>\r\n                    <td className=\"px-10 py-8\">\r\n                      <div className=\"text-sm font-black text-slate-900\">\r\n                        {new Date(tx.date).toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}\r\n                      </div>\r\n                      <div className=\"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1\">\r\n                        Batch ID: {tx.id.slice(-6).toUpperCase()}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-10 py-8\">\r\n                      <div className=\"flex items-center space-x-5\">\r\n                        <div className=\"w-14 h-14 rounded-[1.25rem] bg-slate-100 flex items-center justify-center text-xl font-black text-slate-400 group-hover:bg-emerald-600 group-hover:text-white transition-all shadow-sm\">\r\n                          {tx.dealerName.charAt(0)}\r\n                        </div>\r\n                        <div>\r\n                          <div className=\"font-black text-slate-900 text-xl tracking-tight group-hover:text-emerald-700 transition-colors\">{tx.dealerName}</div>\r\n                          <div className=\"text-xs text-emerald-600/60 font-black mt-0.5 tracking-tight uppercase\">LKR {tx.pricePerKg.toLocaleString()} / kg</div>\r\n                          {tx.note && (\r\n                            <div className=\"text-xs text-slate-500 font-medium mt-1 italic max-w-48 truncate\" title={tx.note}>\r\n                               {tx.note}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-10 py-8 text-center\">\r\n                      <div className=\"inline-flex flex-col items-center justify-center min-w-[3rem] h-12 rounded-2xl bg-slate-50 text-slate-800 font-black\">\r\n                        <span className=\"text-base leading-none\">{tx.chickenCount}</span>\r\n                        <span className=\"text-[8px] uppercase tracking-tighter opacity-40 mt-1\">units</span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-10 py-8 text-right\">\r\n                      <div className=\"text-xl font-black text-slate-900\">{tx.weightKg.toFixed(2)}</div>\r\n                      <div className=\"text-[10px] text-emerald-600 font-black uppercase tracking-widest mt-1\">Kilograms</div>\r\n                    </td>\r\n                    <td className=\"px-10 py-8 text-right\">\r\n                      <div className=\"text-2xl font-black text-slate-900 tracking-tighter\">LKR {tx.totalAmount.toLocaleString()}</div>\r\n                      <div className=\"text-[10px] text-slate-400 font-bold uppercase mt-1 tracking-tight italic\">Secure Sync</div>\r\n                    </td>\r\n                    <td className=\"px-10 py-8\">\r\n                      <div className=\"flex justify-center\">\r\n                        <button \r\n                          onClick={() => togglePaid(tx.id, tx.isPaid)}\r\n                          className={`group relative flex items-center space-x-3 px-6 py-3 rounded-[1.25rem] text-[11px] font-black transition-all border-2 shadow-sm active:scale-95 ${\r\n                            tx.isPaid \r\n                              ? 'bg-emerald-600 text-white border-emerald-500 shadow-emerald-100' \r\n                              : 'bg-white text-rose-500 border-rose-100 hover:border-rose-300 hover:bg-rose-50'\r\n                          }`}\r\n                        >\r\n                          {tx.isPaid ? (\r\n                            <>\r\n                              <i className=\"fas fa-circle-check text-sm animate-bounce-slow\"></i>\r\n                              <span>VERIFIED PAID</span>\r\n                            </>\r\n                          ) : (\r\n                            <>\r\n                              <i className=\"fas fa-clock-rotate-left text-sm\"></i>\r\n                              <span>MARK AS PAID</span>\r\n                            </>\r\n                          )}\r\n                          {!tx.isPaid && (\r\n                             <span className=\"absolute -top-1 -right-1 flex h-4 w-4\">\r\n                               <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75\"></span>\r\n                               <span className=\"relative inline-flex rounded-full h-4 w-4 bg-rose-500\"></span>\r\n                             </span>\r\n                          )}\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-10 py-8\">\r\n                      <div className=\"flex justify-center space-x-2\">\r\n                        <button \r\n                          onClick={() => { setEditingTransaction(tx); setShowForm(true); }}\r\n                          className=\"w-14 h-14 flex items-center justify-center text-slate-300 hover:text-blue-600 hover:bg-blue-50 rounded-[1.25rem] transition-all active:scale-90\"\r\n                        >\r\n                          <i className=\"fas fa-edit text-xl\"></i>\r\n                        </button>\r\n                        <button \r\n                          onClick={() => deleteTx(tx.id)}\r\n                          className=\"w-14 h-14 flex items-center justify-center text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-[1.25rem] transition-all active:scale-90\"\r\n                        >\r\n                          <i className=\"fas fa-trash-can text-xl\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )) : (\r\n                  <tr>\r\n                    <td colSpan={7} className=\"px-10 py-40 text-center\">\r\n                      <div className=\"max-w-md mx-auto\">\r\n                        <div className=\"w-28 h-28 bg-slate-50 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 shadow-inner\">\r\n                          <i className=\"fas fa-cloud-upload text-4xl text-slate-200\"></i>\r\n                        </div>\r\n                        <h4 className=\"text-2xl font-black text-slate-900 mb-3 tracking-tight\">MongoDB Ledger Empty</h4>\r\n                        <p className=\"text-slate-400 font-medium text-lg px-8\">No records found matching your filters. Register a new chicken delivery batch to begin cloud tracking.</p>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Pagination Controls */}\r\n          {totalPages > 1 && (\r\n            <div className=\"px-8 py-6 border-t border-slate-100 bg-slate-50/30\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"text-sm text-slate-600 font-medium\">\r\n                  Showing {((currentPage - 1) * itemsPerPage) + 1} to {Math.min(currentPage * itemsPerPage, filteredTransactions.length)} of {filteredTransactions.length} transactions\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <button\r\n                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                    disabled={currentPage === 1}\r\n                    className=\"px-4 py-2 text-sm font-semibold text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\r\n                  >\r\n                    <i className=\"fas fa-chevron-left mr-2\"></i>\r\n                    Previous\r\n                  </button>\r\n\r\n                  <div className=\"flex items-center space-x-1\">\r\n                    {Array.from({ length: Math.min(5, totalPages) }, (_, i) => {\r\n                      const pageNum = Math.max(1, Math.min(totalPages - 4, currentPage - 2)) + i;\r\n                      if (pageNum > totalPages) return null;\r\n                      return (\r\n                        <button\r\n                          key={pageNum}\r\n                          onClick={() => setCurrentPage(pageNum)}\r\n                          className={`px-3 py-2 text-sm font-semibold rounded-lg transition-all ${\r\n                            currentPage === pageNum\r\n                              ? 'bg-emerald-600 text-white shadow-sm'\r\n                              : 'text-slate-600 bg-white border border-slate-200 hover:bg-slate-50'\r\n                          }`}\r\n                        >\r\n                          {pageNum}\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                    disabled={currentPage === totalPages}\r\n                    className=\"px-4 py-2 text-sm font-semibold text-slate-600 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\r\n                  >\r\n                    Next\r\n                    <i className=\"fas fa-chevron-right ml-2\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {showForm && (\r\n        <TransactionForm \r\n          onSave={editingTransaction ? handleEditTransaction : handleAddTransaction}\r\n          onCancel={() => { setShowForm(false); setEditingTransaction(null); }}\r\n          transaction={editingTransaction}\r\n          dealers={dealers}\r\n          onAddDealer={handleAddDealer}\r\n        />\r\n      )}\r\n\r\n      {showDealerModal && (\r\n        <DealerModal \r\n          dealers={dealers}\r\n          onAddDealer={handleAddDealer}\r\n          onUpdateDealer={handleUpdateDealer}\r\n          onClose={() => setShowDealerModal(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Persistence Status Footer */}\r\n      <footer className=\"py-24 border-t border-slate-200/60 mt-20 bg-white\">\r\n        <div className=\"max-w-7xl mx-auto px-4 flex flex-col items-center\">\r\n          <div className=\"flex flex-col md:flex-row items-center gap-6 mb-12\">\r\n            <div className=\"flex items-center space-x-3 bg-slate-50 px-6 py-3 rounded-2xl border border-slate-100\">\r\n               <div className=\"w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]\"></div>\r\n               <span className=\"text-[11px] font-black text-slate-600 uppercase tracking-[0.2em]\">Primary Cluster: Healthy</span>\r\n            </div>\r\n            <div className=\"flex items-center space-x-3 bg-slate-50 px-6 py-3 rounded-2xl border border-slate-100\">\r\n               <i className=\"fas fa-shield-halved text-emerald-600 text-sm\"></i>\r\n               <span className=\"text-[11px] font-black text-slate-600 uppercase tracking-[0.2em]\">SSL Encryption: Active</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-3 text-slate-900 mb-4 opacity-80\">\r\n            <i className=\"fas fa-kiwi-bird text-2xl text-emerald-600\"></i>\r\n            <span className=\"font-black tracking-tighter text-2xl\">SA Farmshop</span>\r\n          </div>\r\n          <p className=\"text-slate-400 text-[10px] font-black uppercase tracking-[0.4em] mb-10 text-center\">Live Chicken Inventory & Sales Intelligence</p>\r\n          \r\n          <div className=\"h-[1px] w-full max-w-lg bg-gradient-to-r from-transparent via-slate-200 to-transparent mb-10\"></div>\r\n          \r\n          <div className=\"text-slate-300 text-[10px] font-bold text-center leading-loose\">\r\n            &copy; {new Date().getFullYear()} SA Farmshop. Proprietary Software License.<br/>\r\n            Connected to MongoDB Atlas: lakshanrathnayake.es@gmail.com\r\n          </div>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"names":[],"mappings":"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"}}]
}